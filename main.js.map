{
  "version": 3,
  "sources": ["main.ts"],
  "sourcesContent": ["// Serpentnote - Enhanced Version 3.0\nconsole.log('%c\uD83D\uDC0D Serpentnote v3.0 Enhanced', 'color: #34c759; font-size: 16px; font-weight: bold;');\nconsole.log('Features: Keyboard shortcuts, Undo/Redo, Auto-save indicator, Image metadata, Channel export');\n\n// Utility: Debounce function\nfunction debounce<T extends (...args: any[]) => any>(\n    func: T,\n    wait: number\n): (...args: Parameters<T>) => void {\n    let timeout: number | null = null;\n    return function(...args: Parameters<T>) {\n        if (timeout !== null) {\n            clearTimeout(timeout);\n        }\n        timeout = window.setTimeout(() => func(...args), wait);\n    };\n}\n\n// Utility: Check localStorage quota\nfunction checkStorageQuota(): { used: number; available: number; percentage: number } {\n    let used = 0;\n    for (const key in localStorage) {\n        if (localStorage.hasOwnProperty(key)) {\n            used += localStorage[key].length + key.length;\n        }\n    }\n\n    // Most browsers allocate 5-10MB for localStorage\n    const available = 10 * 1024 * 1024; // 10MB estimate\n    const percentage = (used / available) * 100;\n\n    return { used, available, percentage };\n}\n\n// Utility: Show storage warning\nfunction showStorageWarning(percentage: number) {\n    if (percentage > 80 && percentage < 95) {\n        showToast(`\u26A0\uFE0F Storage ${percentage.toFixed(0)}% full. Consider exporting and clearing old data.`, 'warning', 5000);\n    }\n}\n\n// Toast notification system\nfunction showToast(message: string, type: 'success' | 'error' | 'warning' | 'info' = 'info', duration: number = 3000) {\n    const toast = document.createElement('div');\n    toast.className = `toast toast-${type}`;\n    toast.textContent = message;\n\n    // Icon based on type\n    const icon = {\n        success: '\u2713',\n        error: '\u2715',\n        warning: '\u26A0',\n        info: '\u2139'\n    }[type];\n\n    toast.innerHTML = `<span class=\"toast-icon\">${icon}</span><span class=\"toast-message\">${message}</span>`;\n\n    document.body.appendChild(toast);\n\n    // Trigger animation\n    requestAnimationFrame(() => {\n        toast.classList.add('toast-show');\n    });\n\n    // Auto remove\n    setTimeout(() => {\n        toast.classList.remove('toast-show');\n        setTimeout(() => {\n            if (document.body.contains(toast)) {\n                document.body.removeChild(toast);\n            }\n        }, 300);\n    }, duration);\n}\n\n// Data structures\ninterface Channel {\n    id: string;\n    name: string;\n    prompt: string;\n    negativePrompt?: string;\n    tags: string[];\n    images: string[];\n    createdAt: number;\n    starred?: boolean;\n    order?: number;\n}\n\ninterface AppState {\n    channels: Channel[];\n    tags: string[];\n    activeChannelId: string | null;\n    activeFilter: string;\n    activeFilters: string[];\n    theme: string;\n    language: string;\n    searchQuery: string;\n    currentTagPage: number;\n    tagsPerPage: number;\n}\n\n// Undo/Redo system\ninterface UndoAction {\n    type: 'delete-channel' | 'delete-image' | 'delete-tag';\n    data: any;\n    timestamp: number;\n}\n\nconst undoStack: UndoAction[] = [];\nconst MAX_UNDO_STACK = 10;\n\nfunction addUndoAction(action: UndoAction) {\n    undoStack.push(action);\n    if (undoStack.length > MAX_UNDO_STACK) {\n        undoStack.shift();\n    }\n    showUndoToast();\n}\n\nfunction undo() {\n    const action = undoStack.pop();\n    if (!action) return;\n\n    if (action.type === 'delete-channel') {\n        const channel = action.data as Channel;\n        state.channels.push(channel);\n        saveToStorage();\n        renderChannelsList();\n        renderFilterTags();\n        selectChannel(channel.id);\n\n        const message = document.createElement('div');\n        message.textContent = `\u2713 Channel \"${channel.name}\" restored`;\n        message.style.position = 'fixed';\n        message.style.top = '20px';\n        message.style.left = '50%';\n        message.style.transform = 'translateX(-50%)';\n        message.style.background = '#34c759';\n        message.style.color = 'white';\n        message.style.padding = '12px 24px';\n        message.style.borderRadius = '8px';\n        message.style.fontWeight = '600';\n        message.style.zIndex = '3001';\n        message.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';\n        document.body.appendChild(message);\n        setTimeout(() => document.body.removeChild(message), 3000);\n    } else if (action.type === 'delete-image') {\n        const { channelId, imageUrl, index } = action.data;\n        const channel = state.channels.find(c => c.id === channelId);\n        if (channel) {\n            channel.images.splice(index, 0, imageUrl);\n            saveToStorage();\n            renderGallery(channel);\n            renderChannelsList();\n\n            const message = document.createElement('div');\n            message.textContent = '\u2713 Image restored';\n            message.style.position = 'fixed';\n            message.style.top = '20px';\n            message.style.left = '50%';\n            message.style.transform = 'translateX(-50%)';\n            message.style.background = '#34c759';\n            message.style.color = 'white';\n            message.style.padding = '12px 24px';\n            message.style.borderRadius = '8px';\n            message.style.fontWeight = '600';\n            message.style.zIndex = '3001';\n            message.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';\n            document.body.appendChild(message);\n            setTimeout(() => document.body.removeChild(message), 3000);\n        }\n    } else if (action.type === 'delete-tag') {\n        const { tagName, affectedChannels } = action.data;\n        state.tags.push(tagName);\n        affectedChannels.forEach((channelData: any) => {\n            const channel = state.channels.find(c => c.id === channelData.id);\n            if (channel) {\n                channel.tags = channelData.tags;\n            }\n        });\n        saveToStorage();\n        renderExistingTags();\n        renderFilterTags();\n        renderChannelsList();\n\n        const message = document.createElement('div');\n        message.textContent = `\u2713 Tag \"${tagName}\" restored`;\n        message.style.position = 'fixed';\n        message.style.top = '20px';\n        message.style.left = '50%';\n        message.style.transform = 'translateX(-50%)';\n        message.style.background = '#34c759';\n        message.style.color = 'white';\n        message.style.padding = '12px 24px';\n        message.style.borderRadius = '8px';\n        message.style.fontWeight = '600';\n        message.style.zIndex = '3001';\n        message.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';\n        document.body.appendChild(message);\n        setTimeout(() => document.body.removeChild(message), 3000);\n    }\n}\n\nfunction showUndoToast() {\n    // Remove existing toast if any\n    const existingToast = document.getElementById('undoToast');\n    if (existingToast) {\n        document.body.removeChild(existingToast);\n    }\n\n    const toast = document.createElement('div');\n    toast.id = 'undoToast';\n    toast.innerHTML = `\n        <span>Deleted</span>\n        <button id=\"undoBtn\">Undo</button>\n    `;\n    toast.style.position = 'fixed';\n    toast.style.bottom = '20px';\n    toast.style.left = '50%';\n    toast.style.transform = 'translateX(-50%)';\n    toast.style.background = '#2c2c2e';\n    toast.style.color = 'white';\n    toast.style.padding = '12px 16px';\n    toast.style.borderRadius = '8px';\n    toast.style.fontWeight = '500';\n    toast.style.zIndex = '3001';\n    toast.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';\n    toast.style.display = 'flex';\n    toast.style.gap = '16px';\n    toast.style.alignItems = 'center';\n\n    const undoBtn = toast.querySelector('#undoBtn') as HTMLButtonElement;\n    undoBtn.style.background = '#0a84ff';\n    undoBtn.style.color = 'white';\n    undoBtn.style.border = 'none';\n    undoBtn.style.padding = '6px 12px';\n    undoBtn.style.borderRadius = '6px';\n    undoBtn.style.cursor = 'pointer';\n    undoBtn.style.fontWeight = '600';\n    undoBtn.style.fontSize = '14px';\n\n    undoBtn.addEventListener('click', () => {\n        undo();\n        document.body.removeChild(toast);\n    });\n\n    document.body.appendChild(toast);\n\n    // Auto-remove after 5 seconds\n    setTimeout(() => {\n        if (document.body.contains(toast)) {\n            document.body.removeChild(toast);\n        }\n    }, 5000);\n}\n\n// State management\nlet state: AppState = {\n    channels: [],\n    tags: [],\n    activeChannelId: null,\n    activeFilter: 'all',\n    activeFilters: [],\n    theme: 'oled-black',\n    language: 'en',\n    searchQuery: '',\n    currentTagPage: 0,\n    tagsPerPage: 15\n};\n\n// Danbooru tag autocomplete\ninterface DanbooruTag {\n    name: string;\n    category: 'general' | 'artist' | 'character' | 'copyright' | 'meta';\n}\n\nlet autocompleteSelectedIndex = -1;\nlet autocompleteItems: DanbooruTag[] = [];\nlet customDanbooruTags: DanbooruTag[] = [];\n\n// Local storage keys\nconst STORAGE_KEYS = {\n    CHANNELS: 'serpentsBook_channels',\n    TAGS: 'serpentsBook_tags',\n    THEME: 'serpentsBook_theme',\n    LANGUAGE: 'serpentsBook_language',\n    DANBOORU_TAGS: 'serpentsBook_danbooruTags'\n};\n\n// Language translations\nconst translations: Record<string, Record<string, string>> = {\n    en: {\n        name: 'English',\n        appTitle: 'Serpentnote',\n        settings: 'Settings',\n        newChannel: 'New Channel',\n        manageTags: 'Manage Tags',\n        filterByTags: 'Filter by Tags',\n        allChannels: 'All Channels',\n        channels: 'Channels',\n        gallery: 'Gallery',\n        uploadImage: 'Upload Image',\n        noImages: 'No images yet. Double-click or drag & drop to upload!',\n        prompt: 'Prompt',\n        copy: 'Copy',\n        edit: 'Edit',\n        delete: 'Delete',\n        cancel: 'Cancel',\n        save: 'Save',\n        channelName: 'Channel Name',\n        tags: 'Tags',\n        addTag: 'Add tag...',\n        createNewTag: 'Create New Tag',\n        add: 'Add',\n        theme: 'Theme',\n        colorTheme: 'Color Theme',\n        themeDescription: 'Choose your preferred visual theme',\n        light: 'Light',\n        oledBlack: 'OLED Black',\n        language: 'Language',\n        uiLanguage: 'UI Language',\n        languageDescription: 'Choose your preferred interface language',\n        manageDanbooruTags: 'Manage Danbooru Tags',\n        dataManagement: 'Data Management',\n        exportData: 'Export All Data',\n        exportDescription: 'Download all channels, prompts, tags, and images as a JSON file',\n        exportBtn: 'Export',\n        importData: 'Import Data',\n        importDescription: 'Import previously exported data (replaces current data)',\n        importBtn: 'Import',\n        clearData: 'Clear All Data',\n        clearDescription: 'Permanently delete all channels, prompts, tags, and images',\n        clearBtn: 'Clear All',\n        dataStatistics: 'Data & Statistics',\n        totalChannels: 'Total Channels',\n        totalChannelsDescription: 'Number of channels in your library',\n        totalTags: 'Total Tags',\n        totalTagsDescription: 'Filter tags for organizing channels',\n        customDanbooruTags: 'Custom Danbooru Tags',\n        customDanbooruTagsDescription: 'Custom tags added to autocomplete',\n        confirmDeleteChannel: 'Are you sure you want to delete this channel?',\n        confirmClearData: 'Are you sure you want to clear all data? This cannot be undone.',\n        confirmDeleteTag: 'Are you sure you want to delete this tag?',\n        yes: 'Yes',\n        no: 'No',\n        copiedPrompt: 'Prompt copied to clipboard!',\n        copiedFailed: 'Failed to copy prompt'\n    },\n    es: {\n        name: 'Espa\u00F1ol',\n        appTitle: 'Serpentnote',\n        settings: 'Configuraci\u00F3n',\n        newChannel: 'Nuevo Canal',\n        manageTags: 'Administrar Etiquetas',\n        filterByTags: 'Filtrar por Etiquetas',\n        allChannels: 'Todos los Canales',\n        channels: 'Canales',\n        gallery: 'Galer\u00EDa',\n        uploadImage: 'Subir Imagen',\n        noImages: '\u00A1A\u00FAn no hay im\u00E1genes. Sube tu primera imagen generada por IA!',\n        prompt: 'Prompt',\n        copy: 'Copiar',\n        edit: 'Editar',\n        delete: 'Eliminar',\n        cancel: 'Cancelar',\n        save: 'Guardar',\n        channelName: 'Nombre del Canal',\n        tags: 'Etiquetas',\n        addTag: 'Agregar etiqueta...',\n        createNewTag: 'Crear Nueva Etiqueta',\n        add: 'Agregar',\n        theme: 'Tema',\n        colorTheme: 'Tema de Color',\n        themeDescription: 'Elige tu tema visual preferido',\n        light: 'Claro',\n        oledBlack: 'Negro OLED',\n        language: 'Idioma',\n        uiLanguage: 'Idioma de la Interfaz',\n        languageDescription: 'Elige tu idioma de interfaz preferido',\n        dataManagement: 'Gesti\u00F3n de Datos',\n        exportData: 'Exportar Todos los Datos',\n        exportDescription: 'Descarga todos los canales, prompts, etiquetas e im\u00E1genes como archivo JSON',\n        exportBtn: 'Exportar Datos',\n        importData: 'Importar Datos',\n        importDescription: 'Sube un archivo JSON exportado previamente para restaurar tus datos',\n        importBtn: 'Importar Datos',\n        clearData: 'Borrar Todos los Datos',\n        clearDescription: 'Eliminar permanentemente todos los canales, prompts, etiquetas e im\u00E1genes',\n        clearBtn: 'Borrar Datos',\n        statistics: 'Estad\u00EDsticas',\n        totalChannels: 'Total de Canales',\n        totalChannelsDescription: 'N\u00FAmero de canales en tu biblioteca',\n        totalTags: 'Total de Etiquetas',\n        totalTagsDescription: 'Etiquetas de filtro para organizar canales',\n        customDanbooruTags: 'Etiquetas Danbooru Personalizadas',\n        customDanbooruTagsDescription: 'Etiquetas personalizadas agregadas al autocompletado',\n        confirmDeleteChannel: '\u00BFEst\u00E1s seguro de que quieres eliminar este canal?',\n        confirmClearData: '\u00BFEst\u00E1s seguro de que quieres borrar todos los datos? Esto no se puede deshacer.',\n        confirmDeleteTag: '\u00BFEst\u00E1s seguro de que quieres eliminar esta etiqueta?',\n        yes: 'S\u00ED',\n        no: 'No',\n        copiedPrompt: '\u00A1Prompt copiado al portapapeles!',\n        copiedFailed: 'Error al copiar el prompt'\n    },\n    fr: {\n        name: 'Fran\u00E7ais',\n        appTitle: 'Serpentnote',\n        settings: 'Param\u00E8tres',\n        newChannel: 'Nouveau Canal',\n        manageTags: 'G\u00E9rer les \u00C9tiquettes',\n        filterByTags: 'Filtrer par \u00C9tiquettes',\n        allChannels: 'Tous les Canaux',\n        channels: 'Canaux',\n        gallery: 'Galerie',\n        uploadImage: 'T\u00E9l\u00E9charger une Image',\n        noImages: 'Pas encore d\\'images. T\u00E9l\u00E9chargez votre premi\u00E8re image g\u00E9n\u00E9r\u00E9e par IA!',\n        prompt: 'Prompt',\n        copy: 'Copier',\n        edit: 'Modifier',\n        delete: 'Supprimer',\n        cancel: 'Annuler',\n        save: 'Enregistrer',\n        channelName: 'Nom du Canal',\n        tags: '\u00C9tiquettes',\n        addTag: 'Ajouter une \u00E9tiquette...',\n        createNewTag: 'Cr\u00E9er une Nouvelle \u00C9tiquette',\n        add: 'Ajouter',\n        theme: 'Th\u00E8me',\n        colorTheme: 'Th\u00E8me de Couleur',\n        themeDescription: 'Choisissez votre th\u00E8me visuel pr\u00E9f\u00E9r\u00E9',\n        light: 'Clair',\n        oledBlack: 'Noir OLED',\n        language: 'Langue',\n        uiLanguage: 'Langue de l\\'Interface',\n        languageDescription: 'Choisissez votre langue d\\'interface pr\u00E9f\u00E9r\u00E9e',\n        dataManagement: 'Gestion des Donn\u00E9es',\n        exportData: 'Exporter Toutes les Donn\u00E9es',\n        exportDescription: 'T\u00E9l\u00E9chargez tous les canaux, prompts, \u00E9tiquettes et images en fichier JSON',\n        exportBtn: 'Exporter les Donn\u00E9es',\n        importData: 'Importer des Donn\u00E9es',\n        importDescription: 'T\u00E9l\u00E9chargez un fichier JSON pr\u00E9c\u00E9demment export\u00E9 pour restaurer vos donn\u00E9es',\n        importBtn: 'Importer des Donn\u00E9es',\n        clearData: 'Effacer Toutes les Donn\u00E9es',\n        clearDescription: 'Supprimer d\u00E9finitivement tous les canaux, prompts, \u00E9tiquettes et images',\n        clearBtn: 'Effacer les Donn\u00E9es',\n        statistics: 'Statistiques',\n        totalChannels: 'Total de Canaux',\n        totalChannelsDescription: 'Nombre de canaux dans votre biblioth\u00E8que',\n        totalTags: 'Total d\\'\u00C9tiquettes',\n        totalTagsDescription: '\u00C9tiquettes de filtre pour organiser les canaux',\n        customDanbooruTags: '\u00C9tiquettes Danbooru Personnalis\u00E9es',\n        customDanbooruTagsDescription: '\u00C9tiquettes personnalis\u00E9es ajout\u00E9es \u00E0 l\\'autocompl\u00E9tion',\n        confirmDeleteChannel: '\u00CAtes-vous s\u00FBr de vouloir supprimer ce canal?',\n        confirmClearData: '\u00CAtes-vous s\u00FBr de vouloir effacer toutes les donn\u00E9es? Cette action ne peut pas \u00EAtre annul\u00E9e.',\n        confirmDeleteTag: '\u00CAtes-vous s\u00FBr de vouloir supprimer cette \u00E9tiquette?',\n        yes: 'Oui',\n        no: 'Non',\n        copiedPrompt: 'Prompt copi\u00E9 dans le presse-papiers!',\n        copiedFailed: '\u00C9chec de la copie du prompt'\n    },\n    zh: {\n        name: '\u4E2D\u6587',\n        appTitle: 'Serpentnote',\n        settings: '\u8BBE\u7F6E',\n        newChannel: '\u65B0\u5EFA\u9891\u9053',\n        manageTags: '\u7BA1\u7406\u6807\u7B7E',\n        filterByTags: '\u6309\u6807\u7B7E\u7B5B\u9009',\n        allChannels: '\u6240\u6709\u9891\u9053',\n        channels: '\u9891\u9053',\n        gallery: '\u753B\u5ECA',\n        uploadImage: '\u4E0A\u4F20\u56FE\u7247',\n        noImages: '\u8FD8\u6CA1\u6709\u56FE\u7247\u3002\u4E0A\u4F20\u60A8\u7684\u7B2C\u4E00\u5F20AI\u751F\u6210\u7684\u56FE\u7247\uFF01',\n        prompt: '\u63D0\u793A\u8BCD',\n        copy: '\u590D\u5236',\n        edit: '\u7F16\u8F91',\n        delete: '\u5220\u9664',\n        cancel: '\u53D6\u6D88',\n        save: '\u4FDD\u5B58',\n        channelName: '\u9891\u9053\u540D\u79F0',\n        tags: '\u6807\u7B7E',\n        addTag: '\u6DFB\u52A0\u6807\u7B7E...',\n        createNewTag: '\u521B\u5EFA\u65B0\u6807\u7B7E',\n        add: '\u6DFB\u52A0',\n        theme: '\u4E3B\u9898',\n        colorTheme: '\u989C\u8272\u4E3B\u9898',\n        themeDescription: '\u9009\u62E9\u60A8\u559C\u6B22\u7684\u89C6\u89C9\u4E3B\u9898',\n        light: '\u4EAE\u8272',\n        oledBlack: 'OLED\u9ED1',\n        language: '\u8BED\u8A00',\n        uiLanguage: '\u754C\u9762\u8BED\u8A00',\n        languageDescription: '\u9009\u62E9\u60A8\u559C\u6B22\u7684\u754C\u9762\u8BED\u8A00',\n        dataManagement: '\u6570\u636E\u7BA1\u7406',\n        exportData: '\u5BFC\u51FA\u6240\u6709\u6570\u636E',\n        exportDescription: '\u5C06\u6240\u6709\u9891\u9053\u3001\u63D0\u793A\u8BCD\u3001\u6807\u7B7E\u548C\u56FE\u7247\u4E0B\u8F7D\u4E3AJSON\u6587\u4EF6',\n        exportBtn: '\u5BFC\u51FA\u6570\u636E',\n        importData: '\u5BFC\u5165\u6570\u636E',\n        importDescription: '\u4E0A\u4F20\u4E4B\u524D\u5BFC\u51FA\u7684JSON\u6587\u4EF6\u4EE5\u6062\u590D\u60A8\u7684\u6570\u636E',\n        importBtn: '\u5BFC\u5165\u6570\u636E',\n        clearData: '\u6E05\u9664\u6240\u6709\u6570\u636E',\n        clearDescription: '\u6C38\u4E45\u5220\u9664\u6240\u6709\u9891\u9053\u3001\u63D0\u793A\u8BCD\u3001\u6807\u7B7E\u548C\u56FE\u7247',\n        clearBtn: '\u6E05\u9664\u6570\u636E',\n        statistics: '\u7EDF\u8BA1',\n        totalChannels: '\u603B\u9891\u9053\u6570',\n        totalChannelsDescription: '\u60A8\u7684\u5E93\u4E2D\u7684\u9891\u9053\u6570\u91CF',\n        totalTags: '\u603B\u6807\u7B7E\u6570',\n        totalTagsDescription: '\u7528\u4E8E\u7EC4\u7EC7\u9891\u9053\u7684\u7B5B\u9009\u6807\u7B7E',\n        customDanbooruTags: '\u81EA\u5B9A\u4E49Danbooru\u6807\u7B7E',\n        customDanbooruTagsDescription: '\u6DFB\u52A0\u5230\u81EA\u52A8\u5B8C\u6210\u7684\u81EA\u5B9A\u4E49\u6807\u7B7E',\n        confirmDeleteChannel: '\u786E\u5B9A\u8981\u5220\u9664\u6B64\u9891\u9053\u5417\uFF1F',\n        confirmClearData: '\u786E\u5B9A\u8981\u6E05\u9664\u6240\u6709\u6570\u636E\u5417\uFF1F\u6B64\u64CD\u4F5C\u65E0\u6CD5\u64A4\u6D88\u3002',\n        confirmDeleteTag: '\u786E\u5B9A\u8981\u5220\u9664\u6B64\u6807\u7B7E\u5417\uFF1F',\n        yes: '\u662F',\n        no: '\u5426',\n        copiedPrompt: '\u63D0\u793A\u8BCD\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F\uFF01',\n        copiedFailed: '\u590D\u5236\u63D0\u793A\u8BCD\u5931\u8D25'\n    },\n    ja: {\n        name: '\u65E5\u672C\u8A9E',\n        appTitle: 'Serpentnote',\n        settings: '\u8A2D\u5B9A',\n        newChannel: '\u65B0\u3057\u3044\u30C1\u30E3\u30F3\u30CD\u30EB',\n        manageTags: '\u30BF\u30B0\u3092\u7BA1\u7406',\n        filterByTags: '\u30BF\u30B0\u3067\u30D5\u30A3\u30EB\u30BF\u30FC',\n        allChannels: '\u3059\u3079\u3066\u306E\u30C1\u30E3\u30F3\u30CD\u30EB',\n        channels: '\u30C1\u30E3\u30F3\u30CD\u30EB',\n        gallery: '\u30AE\u30E3\u30E9\u30EA\u30FC',\n        uploadImage: '\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9',\n        noImages: '\u307E\u3060\u753B\u50CF\u304C\u3042\u308A\u307E\u305B\u3093\u3002\u6700\u521D\u306EAI\u751F\u6210\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3066\u304F\u3060\u3055\u3044\uFF01',\n        prompt: '\u30D7\u30ED\u30F3\u30D7\u30C8',\n        copy: '\u30B3\u30D4\u30FC',\n        edit: '\u7DE8\u96C6',\n        delete: '\u524A\u9664',\n        cancel: '\u30AD\u30E3\u30F3\u30BB\u30EB',\n        save: '\u4FDD\u5B58',\n        channelName: '\u30C1\u30E3\u30F3\u30CD\u30EB\u540D',\n        tags: '\u30BF\u30B0',\n        addTag: '\u30BF\u30B0\u3092\u8FFD\u52A0...',\n        createNewTag: '\u65B0\u3057\u3044\u30BF\u30B0\u3092\u4F5C\u6210',\n        add: '\u8FFD\u52A0',\n        theme: '\u30C6\u30FC\u30DE',\n        colorTheme: '\u30AB\u30E9\u30FC\u30C6\u30FC\u30DE',\n        themeDescription: '\u304A\u597D\u307F\u306E\u30D3\u30B8\u30E5\u30A2\u30EB\u30C6\u30FC\u30DE\u3092\u9078\u629E',\n        light: '\u30E9\u30A4\u30C8',\n        oledBlack: 'OLED\u30D6\u30E9\u30C3\u30AF',\n        language: '\u8A00\u8A9E',\n        uiLanguage: '\u30A4\u30F3\u30BF\u30FC\u30D5\u30A7\u30FC\u30B9\u8A00\u8A9E',\n        languageDescription: '\u304A\u597D\u307F\u306E\u30A4\u30F3\u30BF\u30FC\u30D5\u30A7\u30FC\u30B9\u8A00\u8A9E\u3092\u9078\u629E',\n        dataManagement: '\u30C7\u30FC\u30BF\u7BA1\u7406',\n        exportData: '\u3059\u3079\u3066\u306E\u30C7\u30FC\u30BF\u3092\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8',\n        exportDescription: '\u3059\u3079\u3066\u306E\u30C1\u30E3\u30F3\u30CD\u30EB\u3001\u30D7\u30ED\u30F3\u30D7\u30C8\u3001\u30BF\u30B0\u3001\u753B\u50CF\u3092JSON\u30D5\u30A1\u30A4\u30EB\u3068\u3057\u3066\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9',\n        exportBtn: '\u30C7\u30FC\u30BF\u3092\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8',\n        importData: '\u30C7\u30FC\u30BF\u3092\u30A4\u30F3\u30DD\u30FC\u30C8',\n        importDescription: '\u4EE5\u524D\u306B\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8\u3057\u305FJSON\u30D5\u30A1\u30A4\u30EB\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3066\u30C7\u30FC\u30BF\u3092\u5FA9\u5143',\n        importBtn: '\u30C7\u30FC\u30BF\u3092\u30A4\u30F3\u30DD\u30FC\u30C8',\n        clearData: '\u3059\u3079\u3066\u306E\u30C7\u30FC\u30BF\u3092\u30AF\u30EA\u30A2',\n        clearDescription: '\u3059\u3079\u3066\u306E\u30C1\u30E3\u30F3\u30CD\u30EB\u3001\u30D7\u30ED\u30F3\u30D7\u30C8\u3001\u30BF\u30B0\u3001\u753B\u50CF\u3092\u5B8C\u5168\u306B\u524A\u9664',\n        clearBtn: '\u30C7\u30FC\u30BF\u3092\u30AF\u30EA\u30A2',\n        statistics: '\u7D71\u8A08',\n        totalChannels: '\u7DCF\u30C1\u30E3\u30F3\u30CD\u30EB\u6570',\n        totalChannelsDescription: '\u30E9\u30A4\u30D6\u30E9\u30EA\u5185\u306E\u30C1\u30E3\u30F3\u30CD\u30EB\u6570',\n        totalTags: '\u7DCF\u30BF\u30B0\u6570',\n        totalTagsDescription: '\u30C1\u30E3\u30F3\u30CD\u30EB\u3092\u6574\u7406\u3059\u308B\u305F\u3081\u306E\u30D5\u30A3\u30EB\u30BF\u30FC\u30BF\u30B0',\n        customDanbooruTags: '\u30AB\u30B9\u30BF\u30E0Danbooru\u30BF\u30B0',\n        customDanbooruTagsDescription: '\u30AA\u30FC\u30C8\u30B3\u30F3\u30D7\u30EA\u30FC\u30C8\u306B\u8FFD\u52A0\u3055\u308C\u305F\u30AB\u30B9\u30BF\u30E0\u30BF\u30B0',\n        confirmDeleteChannel: '\u3053\u306E\u30C1\u30E3\u30F3\u30CD\u30EB\u3092\u524A\u9664\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F',\n        confirmClearData: '\u3059\u3079\u3066\u306E\u30C7\u30FC\u30BF\u3092\u30AF\u30EA\u30A2\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F\u3053\u306E\u64CD\u4F5C\u306F\u5143\u306B\u623B\u305B\u307E\u305B\u3093\u3002',\n        confirmDeleteTag: '\u3053\u306E\u30BF\u30B0\u3092\u524A\u9664\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F',\n        yes: '\u306F\u3044',\n        no: '\u3044\u3044\u3048',\n        copiedPrompt: '\u30D7\u30ED\u30F3\u30D7\u30C8\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\uFF01',\n        copiedFailed: '\u30D7\u30ED\u30F3\u30D7\u30C8\u306E\u30B3\u30D4\u30FC\u306B\u5931\u6557\u3057\u307E\u3057\u305F'\n    },\n    ar: {\n        name: '\u0627\u0644\u0639\u0631\u0628\u064A\u0629',\n        appTitle: 'Serpentnote',\n        settings: '\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A',\n        newChannel: '\u0642\u0646\u0627\u0629 \u062C\u062F\u064A\u062F\u0629',\n        manageTags: '\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A',\n        filterByTags: '\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A',\n        allChannels: '\u062C\u0645\u064A\u0639 \u0627\u0644\u0642\u0646\u0648\u0627\u062A',\n        channels: '\u0627\u0644\u0642\u0646\u0648\u0627\u062A',\n        gallery: '\u0627\u0644\u0645\u0639\u0631\u0636',\n        uploadImage: '\u062A\u062D\u0645\u064A\u0644 \u0635\u0648\u0631\u0629',\n        noImages: '\u0644\u0627 \u062A\u0648\u062C\u062F \u0635\u0648\u0631 \u0628\u0639\u062F. \u0642\u0645 \u0628\u062A\u062D\u0645\u064A\u0644 \u0623\u0648\u0644 \u0635\u0648\u0631\u0629 \u062A\u0645 \u0625\u0646\u0634\u0627\u0624\u0647\u0627 \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A!',\n        prompt: '\u0627\u0644\u0645\u0648\u062C\u0647',\n        copy: '\u0646\u0633\u062E',\n        edit: '\u062A\u0639\u062F\u064A\u0644',\n        delete: '\u062D\u0630\u0641',\n        cancel: '\u0625\u0644\u063A\u0627\u0621',\n        save: '\u062D\u0641\u0638',\n        channelName: '\u0627\u0633\u0645 \u0627\u0644\u0642\u0646\u0627\u0629',\n        tags: '\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A',\n        addTag: '\u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629...',\n        createNewTag: '\u0625\u0646\u0634\u0627\u0621 \u0639\u0644\u0627\u0645\u0629 \u062C\u062F\u064A\u062F\u0629',\n        add: '\u0625\u0636\u0627\u0641\u0629',\n        theme: '\u0627\u0644\u0645\u0638\u0647\u0631',\n        colorTheme: '\u0646\u0638\u0627\u0645 \u0627\u0644\u0623\u0644\u0648\u0627\u0646',\n        themeDescription: '\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0638\u0647\u0631 \u0627\u0644\u0645\u0631\u0626\u064A \u0627\u0644\u0645\u0641\u0636\u0644 \u0644\u062F\u064A\u0643',\n        light: '\u0641\u0627\u062A\u062D',\n        oledBlack: '\u0623\u0633\u0648\u062F OLED',\n        language: '\u0627\u0644\u0644\u063A\u0629',\n        uiLanguage: '\u0644\u063A\u0629 \u0627\u0644\u0648\u0627\u062C\u0647\u0629',\n        languageDescription: '\u0627\u062E\u062A\u0631 \u0644\u063A\u0629 \u0627\u0644\u0648\u0627\u062C\u0647\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629 \u0644\u062F\u064A\u0643',\n        dataManagement: '\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A',\n        exportData: '\u062A\u0635\u062F\u064A\u0631 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A',\n        exportDescription: '\u062A\u0646\u0632\u064A\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0642\u0646\u0648\u0627\u062A \u0648\u0627\u0644\u0645\u0648\u062C\u0647\u0627\u062A \u0648\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A \u0648\u0627\u0644\u0635\u0648\u0631 \u0643\u0645\u0644\u0641 JSON',\n        exportBtn: '\u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A',\n        importData: '\u0627\u0633\u062A\u064A\u0631\u0627\u062F \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A',\n        importDescription: '\u0642\u0645 \u0628\u062A\u062D\u0645\u064A\u0644 \u0645\u0644\u0641 JSON \u062A\u0645 \u062A\u0635\u062F\u064A\u0631\u0647 \u0645\u0633\u0628\u0642\u064B\u0627 \u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0628\u064A\u0627\u0646\u0627\u062A\u0643',\n        importBtn: '\u0627\u0633\u062A\u064A\u0631\u0627\u062F \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A',\n        clearData: '\u0645\u0633\u062D \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A',\n        clearDescription: '\u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0642\u0646\u0648\u0627\u062A \u0648\u0627\u0644\u0645\u0648\u062C\u0647\u0627\u062A \u0648\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A \u0648\u0627\u0644\u0635\u0648\u0631 \u0628\u0634\u0643\u0644 \u062F\u0627\u0626\u0645',\n        clearBtn: '\u0645\u0633\u062D \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A',\n        statistics: '\u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A',\n        totalChannels: '\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0642\u0646\u0648\u0627\u062A',\n        totalChannelsDescription: '\u0639\u062F\u062F \u0627\u0644\u0642\u0646\u0648\u0627\u062A \u0641\u064A \u0645\u0643\u062A\u0628\u062A\u0643',\n        totalTags: '\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A',\n        totalTagsDescription: '\u0639\u0644\u0627\u0645\u0627\u062A \u0627\u0644\u0641\u0644\u062A\u0631\u0629 \u0644\u062A\u0646\u0638\u064A\u0645 \u0627\u0644\u0642\u0646\u0648\u0627\u062A',\n        customDanbooruTags: '\u0639\u0644\u0627\u0645\u0627\u062A Danbooru \u0627\u0644\u0645\u062E\u0635\u0635\u0629',\n        customDanbooruTagsDescription: '\u0639\u0644\u0627\u0645\u0627\u062A \u0645\u062E\u0635\u0635\u0629 \u0645\u0636\u0627\u0641\u0629 \u0625\u0644\u0649 \u0627\u0644\u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A',\n        confirmDeleteChannel: '\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0642\u0646\u0627\u0629\u061F',\n        confirmClearData: '\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0645\u0633\u062D \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A\u061F \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062C\u0631\u0627\u0621.',\n        confirmDeleteTag: '\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0639\u0644\u0627\u0645\u0629\u061F',\n        yes: '\u0646\u0639\u0645',\n        no: '\u0644\u0627',\n        copiedPrompt: '\u062A\u0645 \u0646\u0633\u062E \u0627\u0644\u0645\u0648\u062C\u0647 \u0625\u0644\u0649 \u0627\u0644\u062D\u0627\u0641\u0638\u0629!',\n        copiedFailed: '\u0641\u0634\u0644 \u0646\u0633\u062E \u0627\u0644\u0645\u0648\u062C\u0647'\n    }\n};\n\n// Custom confirm dialog\nlet confirmResolve: ((value: boolean) => void) | null = null;\n\nfunction t(key: string): string {\n    const lang = state.language || 'en';\n    return translations[lang]?.[key] || translations['en'][key] || key;\n}\n\nfunction updateUILanguage() {\n    // Update app title\n    const appTitle = document.querySelector('.app-title');\n    if (appTitle) appTitle.textContent = t('appTitle');\n\n    // Update sidebar\n    const filterByTagsTitle = document.querySelector('.sidebar-section-title');\n    if (filterByTagsTitle) filterByTagsTitle.textContent = t('filterByTags');\n\n    const allChannelsBtn = document.querySelector('[data-filter=\"all\"]');\n    if (allChannelsBtn) allChannelsBtn.textContent = t('allChannels');\n\n    const channelsTitle = document.querySelectorAll('.sidebar-section-title')[1];\n    if (channelsTitle) channelsTitle.textContent = t('channels');\n\n    const newChannelBtn = document.getElementById('newChannelBtn');\n    if (newChannelBtn) newChannelBtn.textContent = t('newChannel');\n\n    const manageTagsBtn = document.getElementById('manageTagsBtn');\n    if (manageTagsBtn) manageTagsBtn.textContent = t('manageTags');\n\n    // Update main content section titles\n    const galleryTitle = document.querySelector('.gallery-section .section-header h3');\n    if (galleryTitle) galleryTitle.textContent = t('gallery');\n\n    const uploadBtn = document.getElementById('uploadImageBtn');\n    if (uploadBtn) {\n        const btnText = uploadBtn.childNodes[1];\n        if (btnText) btnText.textContent = ' ' + t('uploadImage');\n    }\n\n    const promptTitle = document.querySelector('.prompt-section .section-header h3');\n    if (promptTitle) promptTitle.textContent = t('prompt');\n\n    const copyPromptBtn = document.getElementById('copyPromptBtn');\n    if (copyPromptBtn) {\n        const btnText = copyPromptBtn.childNodes[1];\n        if (btnText) btnText.textContent = ' ' + t('copy');\n    }\n\n    const editPromptBtn = document.getElementById('editPromptBtn');\n    if (editPromptBtn) editPromptBtn.textContent = t('edit');\n\n    // Update channel modal\n    const channelModalTitle = document.querySelector('#channelModal .modal-header h2');\n    if (channelModalTitle) channelModalTitle.textContent = t('newChannel');\n\n    const channelNameLabel = document.querySelector('label[for=\"channelNameInput\"]');\n    if (channelNameLabel) channelNameLabel.textContent = t('channelName');\n\n    const tagsLabel = document.querySelector('label[for=\"tagInput\"]');\n    if (tagsLabel) tagsLabel.textContent = t('tags');\n\n    const tagInput = document.getElementById('tagInput') as HTMLInputElement;\n    if (tagInput) tagInput.placeholder = t('addTag');\n\n    const promptLabel = document.querySelector('label[for=\"promptInput\"]');\n    if (promptLabel) promptLabel.textContent = t('prompt');\n\n    const cancelChannelBtn = document.getElementById('cancelChannelBtn');\n    if (cancelChannelBtn) cancelChannelBtn.textContent = t('cancel');\n\n    const saveChannelBtn = document.getElementById('saveChannelBtn');\n    if (saveChannelBtn) saveChannelBtn.textContent = t('save');\n\n    // Update tags modal\n    const tagsModalTitle = document.querySelector('#tagsModal .modal-header h2');\n    if (tagsModalTitle) tagsModalTitle.textContent = t('manageTags');\n\n    const createTagLabel = document.querySelector('label[for=\"newTagInput\"]');\n    if (createTagLabel) createTagLabel.textContent = t('createNewTag');\n\n    const addTagBtn = document.getElementById('addTagBtn');\n    if (addTagBtn) addTagBtn.textContent = t('add');\n\n    // Update settings modal\n    const settingsTitle = document.querySelector('#settingsModal .modal-header h2');\n    if (settingsTitle) settingsTitle.textContent = t('settings');\n\n    const themeSection = document.querySelectorAll('.settings-section-title')[0];\n    if (themeSection) themeSection.textContent = t('theme');\n\n    const colorThemeLabel = document.querySelectorAll('.settings-item label')[0];\n    if (colorThemeLabel) colorThemeLabel.textContent = t('colorTheme');\n\n    const themeDesc = document.querySelectorAll('.settings-description')[0];\n    if (themeDesc) themeDesc.textContent = t('themeDescription');\n\n    const lightSpan = document.querySelector('[data-theme=\"light\"] span');\n    if (lightSpan) lightSpan.textContent = t('light');\n\n    const oledBlackSpan = document.querySelector('[data-theme=\"oled-black\"] span');\n    if (oledBlackSpan) oledBlackSpan.textContent = t('oledBlack');\n\n    const languageSection = document.querySelectorAll('.settings-section-title')[1];\n    if (languageSection) languageSection.textContent = t('language');\n\n    const uiLanguageLabel = document.querySelectorAll('.settings-item label')[1];\n    if (uiLanguageLabel) uiLanguageLabel.textContent = t('uiLanguage');\n\n    const languageDesc = document.querySelectorAll('.settings-description')[1];\n    if (languageDesc) languageDesc.textContent = t('languageDescription');\n\n    const danbooruTagsSection = document.querySelectorAll('.settings-section-title')[2];\n    if (danbooruTagsSection) danbooruTagsSection.textContent = t('manageDanbooruTags');\n\n    // Data & Statistics section labels (indices updated after adding Custom Danbooru Tags)\n    const totalChannelsLabel = document.querySelectorAll('.settings-item label')[2];\n    if (totalChannelsLabel) totalChannelsLabel.textContent = t('totalChannels');\n\n    const totalChannelsDesc = document.querySelectorAll('.settings-description')[2];\n    if (totalChannelsDesc) totalChannelsDesc.textContent = t('totalChannelsDescription');\n\n    const totalTagsLabel = document.querySelectorAll('.settings-item label')[3];\n    if (totalTagsLabel) totalTagsLabel.textContent = t('totalTags');\n\n    const totalTagsDesc = document.querySelectorAll('.settings-description')[3];\n    if (totalTagsDesc) totalTagsDesc.textContent = t('totalTagsDescription');\n\n    const customDanbooruLabel = document.querySelectorAll('.settings-item label')[4];\n    if (customDanbooruLabel) customDanbooruLabel.textContent = t('customDanbooruTags');\n\n    const customDanbooruDesc = document.querySelectorAll('.settings-description')[4];\n    if (customDanbooruDesc) customDanbooruDesc.textContent = t('customDanbooruTagsDescription');\n\n    const exportDataLabel = document.querySelectorAll('.settings-item label')[5];\n    if (exportDataLabel) exportDataLabel.textContent = t('exportData');\n\n    const exportDesc = document.querySelectorAll('.settings-description')[5];\n    if (exportDesc) exportDesc.textContent = t('exportDescription');\n\n    const exportBtn = document.getElementById('exportDataBtn');\n    if (exportBtn) exportBtn.textContent = t('exportBtn');\n\n    const importDataLabel = document.querySelectorAll('.settings-item label')[6];\n    if (importDataLabel) importDataLabel.textContent = t('importData');\n\n    const importDesc = document.querySelectorAll('.settings-description')[6];\n    if (importDesc) importDesc.textContent = t('importDescription');\n\n    const importBtn = document.getElementById('importDataBtn');\n    if (importBtn) importBtn.textContent = t('importBtn');\n\n    const clearDataLabel = document.querySelectorAll('.settings-item label')[7];\n    if (clearDataLabel) clearDataLabel.textContent = t('clearData');\n\n    const clearDesc = document.querySelectorAll('.settings-description')[7];\n    if (clearDesc) clearDesc.textContent = t('clearDescription');\n\n    const clearBtn = document.getElementById('clearDataBtn');\n    if (clearBtn) clearBtn.textContent = t('clearBtn');\n\n    const dataStatsSection = document.querySelectorAll('.settings-section-title')[3];\n    if (dataStatsSection) dataStatsSection.textContent = t('dataStatistics');\n\n\n    // Update confirm modal\n    const confirmYes = document.getElementById('confirmYes');\n    if (confirmYes) confirmYes.textContent = t('yes');\n\n    const confirmNo = document.getElementById('confirmNo');\n    if (confirmNo) confirmNo.textContent = t('no');\n\n    // Update empty state if visible\n    const galleryEmpty = document.querySelector('.gallery-empty p');\n    if (galleryEmpty) galleryEmpty.textContent = t('noImages');\n\n    // Re-parse emojis after text changes\n    parseEmojis();\n}\n\nfunction customConfirm(message: string): Promise<boolean> {\n    return new Promise((resolve) => {\n        confirmResolve = resolve;\n        const modal = document.getElementById('confirmModal')!;\n        const messageEl = document.getElementById('confirmMessage')!;\n\n        messageEl.textContent = message;\n        modal.classList.add('active');\n    });\n}\n\nfunction closeConfirmModal(result: boolean) {\n    const modal = document.getElementById('confirmModal')!;\n    modal.classList.remove('active');\n    if (confirmResolve) {\n        confirmResolve(result);\n        confirmResolve = null;\n    }\n}\n\n// Helper function to convert text with emojis to Twemoji HTML BEFORE DOM insertion\nfunction convertToTwemoji(text: string): string {\n    // Create a temporary element to parse the text\n    const temp = document.createElement('div');\n    temp.textContent = text;\n\n    // Parse with Twemoji\n    twemoji.parse(temp, {\n        folder: 'svg',\n        ext: '.svg',\n        callback: (icon: string, options: any) => {\n            return `https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/${options.folder}/${icon}${options.ext}`;\n        }\n    });\n\n    // Convert src to data-src for lazy loading\n    const emojiImages = temp.querySelectorAll('img.emoji');\n    emojiImages.forEach(img => {\n        const imgEl = img as HTMLImageElement;\n        if (imgEl.src) {\n            imgEl.setAttribute('data-src', imgEl.src);\n            imgEl.removeAttribute('src');\n        }\n    });\n\n    return temp.innerHTML;\n}\n\n// Initialize app\nfunction init() {\n    loadFromStorage();\n    applyTheme(state.theme);\n    applyLanguage(state.language);\n\n    // Initialize emoji observer BEFORE rendering\n    initEmojiObserver();\n\n    renderChannelsList();\n    renderFilterTags();\n    setupEventListeners();\n\n    if (state.channels.length === 0) {\n        showEmptyState();\n    } else {\n        // Select first channel\n        selectChannel(state.channels[0].id);\n    }\n\n    // Parse emojis to Apple style using Twemoji\n    parseEmojis();\n}\n\n// Lazy load emojis - only load when visible\nlet emojiObserver: IntersectionObserver | null = null;\nconst loadedEmojis = new Set<string>();\n\n// Initialize the emoji observer\nfunction initEmojiObserver() {\n    if (!emojiObserver) {\n        emojiObserver = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                const img = entry.target as HTMLImageElement;\n\n                if (entry.isIntersecting) {\n                    // Load emoji when it becomes visible\n                    const dataSrc = img.getAttribute('data-src');\n                    if (dataSrc && !img.src) {\n                        img.src = dataSrc;\n                        loadedEmojis.add(dataSrc);\n                    }\n                } else {\n                    // Unload emoji when it's no longer visible (optional - saves memory)\n                    if (img.src && !img.getAttribute('data-keep')) {\n                        img.removeAttribute('src');\n                    }\n                }\n            });\n        }, {\n            rootMargin: '50px', // Load slightly before entering viewport\n            threshold: 0.01\n        });\n    }\n}\n\nfunction parseEmojis() {\n    if (typeof twemoji === 'undefined') return;\n\n    // Ensure observer is initialized\n    initEmojiObserver();\n\n    // Parse emojis but don't load images immediately\n    // Only parse static HTML elements - dynamic elements use convertToTwemoji()\n    const nodes = document.querySelectorAll('.note-content, .tag-item, .emoji-option');\n    nodes.forEach(node => {\n        // Skip if already parsed (contains emoji images)\n        if (node.querySelector('img.emoji')) {\n            return;\n        }\n\n        // Convert text emojis to img elements\n        twemoji.parse(node, {\n            folder: 'svg',\n            ext: '.svg',\n            callback: (icon: string, options: any) => {\n                // Return the URL but we'll load it lazily\n                return `https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/${options.folder}/${icon}${options.ext}`;\n            }\n        });\n    });\n\n    // Replace src with data-src for lazy loading\n    const emojiImages = document.querySelectorAll('img.emoji');\n    emojiImages.forEach(img => {\n        const imgEl = img as HTMLImageElement;\n        if (imgEl.src && !imgEl.getAttribute('data-src')) {\n            imgEl.setAttribute('data-src', imgEl.src);\n            imgEl.removeAttribute('src');\n            // Observe for lazy loading\n            emojiObserver?.observe(imgEl);\n        }\n    });\n}\n\n// Cleanup function to unobserve emojis\nfunction cleanupEmojiObserver() {\n    if (emojiObserver) {\n        emojiObserver.disconnect();\n        emojiObserver = null;\n    }\n    loadedEmojis.clear();\n}\n\n// Local storage functions\nfunction saveToStorage() {\n    try {\n        showSaveIndicator('saving');\n        localStorage.setItem(STORAGE_KEYS.CHANNELS, JSON.stringify(state.channels));\n        localStorage.setItem(STORAGE_KEYS.TAGS, JSON.stringify(state.tags));\n        localStorage.setItem(STORAGE_KEYS.THEME, state.theme);\n        localStorage.setItem(STORAGE_KEYS.LANGUAGE, state.language);\n        localStorage.setItem(STORAGE_KEYS.DANBOORU_TAGS, JSON.stringify(customDanbooruTags));\n        showSaveIndicator('saved');\n\n        // Check storage quota and warn if needed\n        const quota = checkStorageQuota();\n        showStorageWarning(quota.percentage);\n    } catch (e) {\n        showSaveIndicator('error');\n        if (e instanceof DOMException && (e.name === 'QuotaExceededError' || e.code === 22)) {\n            alert('Storage quota exceeded! Your images could not be saved. Please export your data and clear some images to free up space.');\n            console.error('LocalStorage quota exceeded:', e);\n        } else {\n            console.error('Error saving to localStorage:', e);\n        }\n    }\n}\n\n// Save indicator\nlet saveIndicatorTimeout: number | null = null;\n\nfunction showSaveIndicator(status: 'saving' | 'saved' | 'error') {\n    const indicator = document.getElementById('saveIndicator');\n    if (!indicator) return;\n\n    // Clear existing timeout\n    if (saveIndicatorTimeout !== null) {\n        clearTimeout(saveIndicatorTimeout);\n    }\n\n    indicator.className = 'save-indicator show';\n    const span = indicator.querySelector('span');\n\n    if (status === 'saving') {\n        indicator.classList.add('saving');\n        if (span) span.textContent = 'Saving...';\n    } else if (status === 'saved') {\n        indicator.classList.remove('saving');\n        if (span) span.textContent = 'Saved';\n\n        // Hide after 2 seconds\n        saveIndicatorTimeout = window.setTimeout(() => {\n            indicator.classList.remove('show');\n        }, 2000);\n    } else if (status === 'error') {\n        indicator.classList.remove('saving');\n        indicator.style.background = 'rgba(255, 59, 48, 0.15)';\n        indicator.style.borderColor = 'rgba(255, 59, 48, 0.3)';\n        indicator.style.color = '#ff3b30';\n        if (span) span.textContent = 'Error';\n\n        // Hide after 3 seconds\n        saveIndicatorTimeout = window.setTimeout(() => {\n            indicator.classList.remove('show');\n            // Reset styles\n            indicator.style.background = '';\n            indicator.style.borderColor = '';\n            indicator.style.color = '';\n        }, 3000);\n    }\n}\n\nfunction loadFromStorage() {\n    const channelsData = localStorage.getItem(STORAGE_KEYS.CHANNELS);\n    const tagsData = localStorage.getItem(STORAGE_KEYS.TAGS);\n    const themeData = localStorage.getItem(STORAGE_KEYS.THEME);\n    const languageData = localStorage.getItem(STORAGE_KEYS.LANGUAGE);\n    const danbooruTagsData = localStorage.getItem(STORAGE_KEYS.DANBOORU_TAGS);\n\n    if (channelsData) {\n        state.channels = JSON.parse(channelsData);\n    }\n\n    if (tagsData) {\n        state.tags = JSON.parse(tagsData);\n    }\n\n    if (themeData) {\n        state.theme = themeData;\n    }\n\n    if (languageData) {\n        state.language = languageData;\n    }\n\n    if (danbooruTagsData) {\n        customDanbooruTags = JSON.parse(danbooruTagsData);\n    }\n}\n\n// Event listeners\nfunction setupEventListeners() {\n    // Hamburger menu\n    const hamburgerBtn = document.getElementById('hamburgerBtn');\n    const hamburgerDropdown = document.getElementById('hamburgerDropdown');\n\n    hamburgerBtn?.addEventListener('click', (e) => {\n        e.stopPropagation();\n        hamburgerDropdown?.classList.toggle('active');\n    });\n\n    // Close hamburger menu when clicking outside\n    document.addEventListener('click', (e) => {\n        const target = e.target as HTMLElement;\n        if (!hamburgerDropdown?.contains(target) && target !== hamburgerBtn) {\n            hamburgerDropdown?.classList.remove('active');\n        }\n    });\n\n    // Hamburger settings button\n    document.getElementById('hamburgerSettingsBtn')?.addEventListener('click', () => {\n        hamburgerDropdown?.classList.remove('active');\n        openSettingsModal();\n    });\n\n    // New channel button\n    document.getElementById('newChannelBtn')?.addEventListener('click', () => {\n        openChannelModal();\n    });\n\n    // Manage tags button\n    document.getElementById('manageTagsBtn')?.addEventListener('click', () => {\n        openTagsModal();\n    });\n\n    // Channel modal buttons\n    document.getElementById('closeChannelModal')?.addEventListener('click', closeChannelModal);\n    document.getElementById('cancelChannelBtn')?.addEventListener('click', closeChannelModal);\n    document.getElementById('saveChannelBtn')?.addEventListener('click', saveChannel);\n\n    // Tags modal buttons\n    document.getElementById('closeTagsModal')?.addEventListener('click', closeTagsModal);\n    document.getElementById('addTagBtn')?.addEventListener('click', addNewTag);\n\n    // Settings modal buttons\n    document.getElementById('closeSettingsModal')?.addEventListener('click', closeSettingsModal);\n    document.getElementById('exportDataBtn')?.addEventListener('click', exportData);\n    document.getElementById('importDataBtn')?.addEventListener('click', () => {\n        document.getElementById('importFileInput')?.click();\n    });\n    document.getElementById('clearDataBtn')?.addEventListener('click', clearAllData);\n    document.getElementById('importFileInput')?.addEventListener('change', importData);\n\n    // Theme selection\n    document.querySelectorAll('.theme-option').forEach(button => {\n        button.addEventListener('click', () => {\n            const theme = button.getAttribute('data-theme');\n            if (theme) {\n                selectTheme(theme);\n            }\n        });\n    });\n\n    // Language dropdown\n    const languageDropdownBtn = document.getElementById('languageDropdownBtn');\n    const languageDropdown = document.getElementById('languageDropdown');\n\n    languageDropdownBtn?.addEventListener('click', (e) => {\n        e.stopPropagation();\n        languageDropdownBtn.classList.toggle('open');\n        languageDropdown?.classList.toggle('show');\n    });\n\n    // Close language dropdown when clicking outside\n    document.addEventListener('click', (e) => {\n        const target = e.target as HTMLElement;\n        if (!languageDropdown?.contains(target) && target !== languageDropdownBtn) {\n            languageDropdownBtn?.classList.remove('open');\n            languageDropdown?.classList.remove('show');\n        }\n    });\n\n    // Language selection\n    document.querySelectorAll('.language-option').forEach(button => {\n        button.addEventListener('click', () => {\n            const lang = button.getAttribute('data-lang');\n            if (lang) {\n                selectLanguage(lang);\n                languageDropdownBtn?.classList.remove('open');\n                languageDropdown?.classList.remove('show');\n            }\n        });\n    });\n\n    // Tag input (Enter key)\n    document.getElementById('tagInput')?.addEventListener('keypress', (e) => {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            addTagToChannel();\n        }\n    });\n\n    // New tag input (Enter key)\n    document.getElementById('newTagInput')?.addEventListener('keypress', (e) => {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            addNewTag();\n        }\n    });\n\n    // Emoji picker\n    const emojiPickerBtn = document.getElementById('emojiPickerBtn');\n    const emojiPicker = document.getElementById('emojiPicker');\n    let selectedEmojiIndex = -1;\n\n    emojiPickerBtn?.addEventListener('click', (e) => {\n        e.stopPropagation();\n        const isVisible = emojiPicker!.style.display === 'block';\n\n        if (isVisible) {\n            emojiPicker!.style.display = 'none';\n            selectedEmojiIndex = -1;\n        } else {\n            // Position the emoji picker below the button\n            const rect = emojiPickerBtn.getBoundingClientRect();\n            emojiPicker!.style.top = `${rect.bottom + 8}px`;\n            emojiPicker!.style.left = `${rect.left}px`;\n            emojiPicker!.style.display = 'block';\n            selectedEmojiIndex = -1;\n        }\n    });\n\n    // Keyboard navigation for emoji picker\n    document.addEventListener('keydown', (e) => {\n        if (emojiPicker && emojiPicker.style.display === 'block') {\n            const activeGrid = Array.from(document.querySelectorAll('.emoji-grid')).find(\n                grid => (grid as HTMLElement).style.display === 'grid'\n            ) as HTMLElement;\n\n            if (!activeGrid) return;\n\n            const emojiOptions = Array.from(activeGrid.querySelectorAll('.emoji-option'));\n            const gridColumns = 6; // Match CSS grid-template-columns\n\n            if (e.key === 'ArrowRight') {\n                e.preventDefault();\n                selectedEmojiIndex = Math.min(selectedEmojiIndex + 1, emojiOptions.length - 1);\n                highlightEmoji(emojiOptions, selectedEmojiIndex);\n            } else if (e.key === 'ArrowLeft') {\n                e.preventDefault();\n                selectedEmojiIndex = Math.max(selectedEmojiIndex - 1, 0);\n                highlightEmoji(emojiOptions, selectedEmojiIndex);\n            } else if (e.key === 'ArrowDown') {\n                e.preventDefault();\n                selectedEmojiIndex = Math.min(selectedEmojiIndex + gridColumns, emojiOptions.length - 1);\n                highlightEmoji(emojiOptions, selectedEmojiIndex);\n            } else if (e.key === 'ArrowUp') {\n                e.preventDefault();\n                selectedEmojiIndex = Math.max(selectedEmojiIndex - gridColumns, 0);\n                highlightEmoji(emojiOptions, selectedEmojiIndex);\n            } else if (e.key === 'Enter' && selectedEmojiIndex >= 0) {\n                e.preventDefault();\n                (emojiOptions[selectedEmojiIndex] as HTMLElement).click();\n            } else if (e.key === 'Escape') {\n                emojiPicker.style.display = 'none';\n                selectedEmojiIndex = -1;\n            }\n        }\n    });\n\n    function highlightEmoji(options: Element[], index: number) {\n        options.forEach((opt, i) => {\n            if (i === index) {\n                opt.classList.add('emoji-highlighted');\n                opt.scrollIntoView({ block: 'nearest', behavior: 'smooth' });\n            } else {\n                opt.classList.remove('emoji-highlighted');\n            }\n        });\n    }\n\n    // Emoji category switching\n    document.querySelectorAll('.emoji-category-tab').forEach(tab => {\n        tab.addEventListener('click', (e) => {\n            e.stopPropagation();\n            const category = (tab as HTMLElement).dataset.category;\n\n            // Update active tab\n            document.querySelectorAll('.emoji-category-tab').forEach(t => t.classList.remove('active'));\n            tab.classList.add('active');\n\n            // Show corresponding emoji grid\n            document.querySelectorAll('.emoji-grid').forEach(grid => {\n                const gridCategory = (grid as HTMLElement).dataset.category;\n                if (gridCategory === category) {\n                    (grid as HTMLElement).style.display = 'grid';\n                } else {\n                    (grid as HTMLElement).style.display = 'none';\n                }\n            });\n        });\n    });\n\n    // Close emoji picker when clicking outside\n    document.addEventListener('click', (e) => {\n        const target = e.target as HTMLElement;\n        if (!emojiPicker?.contains(target) && target !== emojiPickerBtn) {\n            emojiPicker!.style.display = 'none';\n        }\n    });\n\n    // Hide tag autocomplete when clicking outside\n    document.addEventListener('click', (e) => {\n        const target = e.target as HTMLElement;\n        const autocomplete = document.getElementById('tagAutocomplete');\n        const promptInput = document.getElementById('channelPromptInput');\n        if (autocomplete && !autocomplete.contains(target) && target !== promptInput) {\n            autocomplete.style.display = 'none';\n            autocompleteSelectedIndex = -1;\n        }\n    });\n\n    // Emoji selection\n    document.querySelectorAll('.emoji-option').forEach(option => {\n        option.addEventListener('click', () => {\n            const emoji = option.getAttribute('data-emoji');\n            const input = document.getElementById('newTagInput') as HTMLInputElement;\n            if (emoji && input) {\n                // Add emoji to the beginning of the input\n                input.value = emoji + ' ' + input.value;\n                input.focus();\n                emojiPicker!.style.display = 'none';\n            }\n        });\n    });\n\n    // Search input - declared early for \"/\" key shortcut\n    const searchInput = document.getElementById('searchInput') as HTMLInputElement;\n    const clearSearchBtn = document.getElementById('clearSearchBtn');\n\n    // Auto-focus search on \"/\" key (like GitHub)\n    document.addEventListener('keydown', (e) => {\n        // Only trigger if not in input/textarea and \"/\" is pressed\n        const target = e.target as HTMLElement;\n        const isInputFocused = target.tagName === 'INPUT' || target.tagName === 'TEXTAREA';\n\n        if (!isInputFocused && e.key === '/' && searchInput) {\n            e.preventDefault();\n            searchInput.focus();\n            searchInput.select();\n        }\n    });\n\n    // Debounced search to improve performance\n    const debouncedSearch = debounce(() => {\n        renderChannelsList();\n    }, 300); // 300ms delay\n\n    searchInput?.addEventListener('input', (e) => {\n        const value = (e.target as HTMLInputElement).value;\n        state.searchQuery = value;\n\n        // Show/hide clear button immediately\n        if (clearSearchBtn) {\n            clearSearchBtn.style.display = value ? 'flex' : 'none';\n        }\n\n        // Debounce the actual search/render\n        debouncedSearch();\n    });\n\n    clearSearchBtn?.addEventListener('click', () => {\n        if (searchInput) {\n            searchInput.value = '';\n            state.searchQuery = '';\n            clearSearchBtn.style.display = 'none';\n            searchInput.focus();\n            renderChannelsList();\n        }\n    });\n\n    // Double-click gallery grid to upload images\n    const galleryGridForUpload = document.getElementById('galleryGrid');\n    if (galleryGridForUpload) {\n        galleryGridForUpload.addEventListener('dblclick', (e) => {\n            // Only trigger upload if not clicking on an image or its container\n            const target = e.target as HTMLElement;\n            if (!target.closest('.gallery-item')) {\n                e.preventDefault();\n                document.getElementById('fileInput')?.click();\n            }\n        });\n\n        // Prevent text selection on double-click\n        galleryGridForUpload.addEventListener('mousedown', (e) => {\n            if (e.detail > 1) {\n                e.preventDefault();\n            }\n        });\n    }\n\n    // Compare images button\n    document.getElementById('compareImagesBtn')?.addEventListener('click', openComparisonModal);\n\n    // Close comparison modal\n    document.getElementById('closeComparisonModal')?.addEventListener('click', closeComparisonModal);\n\n    // Clear comparison selection\n    document.getElementById('clearComparisonBtn')?.addEventListener('click', clearComparisonSelection);\n\n    // Close comparison modal when clicking outside\n    document.getElementById('comparisonModal')?.addEventListener('click', (e) => {\n        if (e.target === e.currentTarget) closeComparisonModal();\n    });\n\n    // Danbooru tag management\n    document.getElementById('addDanbooruTagBtn')?.addEventListener('click', addDanbooruTag);\n    document.getElementById('bulkImportBtn')?.addEventListener('click', bulkImportDanbooruTags);\n\n    // Tag pagination\n    document.getElementById('prevTagPage')?.addEventListener('click', () => {\n        if (state.currentTagPage > 0) {\n            state.currentTagPage--;\n            renderFilterTags();\n        }\n    });\n\n    document.getElementById('nextTagPage')?.addEventListener('click', () => {\n        const totalPages = Math.ceil(state.tags.length / state.tagsPerPage);\n        if (state.currentTagPage < totalPages - 1) {\n            state.currentTagPage++;\n            renderFilterTags();\n        }\n    });\n\n    // Clear filters button\n    document.getElementById('clearFiltersBtn')?.addEventListener('click', () => {\n        state.activeFilter = 'all';\n        state.activeFilters = [];\n        renderFilterTags();\n        renderChannelsList();\n    });\n\n    // Allow Enter key to add Danbooru tag\n    document.getElementById('newDanbooruTagInput')?.addEventListener('keypress', (e) => {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            addDanbooruTag();\n        }\n    });\n\n    // File input change\n    document.getElementById('fileInput')?.addEventListener('change', handleFileUpload);\n\n    // Drag & Drop image upload\n    const galleryGrid = document.getElementById('galleryGrid');\n    if (galleryGrid) {\n        // Prevent default drag behaviors\n        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\n            galleryGrid.addEventListener(eventName, preventDefaults, false);\n            document.body.addEventListener(eventName, preventDefaults, false);\n        });\n\n        function preventDefaults(e: Event) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n\n        // Highlight drop zone when dragging over it\n        ['dragenter', 'dragover'].forEach(eventName => {\n            galleryGrid.addEventListener(eventName, () => {\n                galleryGrid.classList.add('drag-over');\n            }, false);\n        });\n\n        ['dragleave', 'drop'].forEach(eventName => {\n            galleryGrid.addEventListener(eventName, () => {\n                galleryGrid.classList.remove('drag-over');\n            }, false);\n        });\n\n        // Handle dropped files\n        galleryGrid.addEventListener('drop', (e: DragEvent) => {\n            const dt = e.dataTransfer;\n            const files = dt?.files;\n\n            if (files && files.length > 0) {\n                const fileInput = document.getElementById('fileInput') as HTMLInputElement;\n                if (fileInput) {\n                    fileInput.files = files;\n                    handleFileUpload({ target: fileInput } as any);\n                }\n            }\n        }, false);\n    }\n\n    // Edit channel button\n    document.getElementById('editChannelBtn')?.addEventListener('click', () => {\n        if (state.activeChannelId) {\n            openChannelModal(state.activeChannelId);\n        }\n    });\n\n    // Export channel button\n    document.getElementById('exportChannelBtn')?.addEventListener('click', () => {\n        if (state.activeChannelId) {\n            exportChannel(state.activeChannelId);\n        }\n    });\n\n    // Delete channel button\n    const deleteBtn = document.getElementById('deleteChannelBtn');\n    if (deleteBtn) {\n        deleteBtn.addEventListener('click', async () => {\n            if (!state.activeChannelId) {\n                return;\n            }\n            const confirmDelete = await customConfirm(t('confirmDeleteChannel'));\n            if (confirmDelete) {\n                deleteChannel(state.activeChannelId);\n            }\n        });\n    }\n\n    // Edit prompt button\n    document.getElementById('editPromptBtn')?.addEventListener('click', () => {\n        if (state.activeChannelId) {\n            openChannelModal(state.activeChannelId);\n        }\n    });\n\n    // Copy prompt button\n    document.getElementById('copyPromptBtn')?.addEventListener('click', () => {\n        if (!state.activeChannelId) return;\n\n        const channel = state.channels.find(c => c.id === state.activeChannelId);\n        if (!channel || !channel.prompt) return;\n\n        // Fallback copy method that works in iframes\n        const textArea = document.createElement('textarea');\n        textArea.value = channel.prompt;\n        textArea.style.position = 'fixed';\n        textArea.style.left = '-9999px';\n        textArea.style.top = '-9999px';\n        document.body.appendChild(textArea);\n        textArea.focus();\n        textArea.select();\n\n        try {\n            const successful = document.execCommand('copy');\n            if (successful) {\n                // Visual feedback\n                const btn = document.getElementById('copyPromptBtn');\n                if (btn) {\n                    const originalText = btn.innerHTML;\n                    btn.classList.add('copied');\n                    btn.innerHTML = `<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                        <polyline points=\"20 6 9 17 4 12\"></polyline>\n                    </svg>Copied!`;\n\n                    setTimeout(() => {\n                        btn.classList.remove('copied');\n                        btn.innerHTML = originalText;\n                    }, 2000);\n                }\n            }\n        } catch (err) {\n            console.error('Failed to copy prompt:', err);\n        } finally {\n            document.body.removeChild(textArea);\n        }\n    });\n\n    // Image modal\n    document.getElementById('closeImageModal')?.addEventListener('click', closeImageModal);\n    document.getElementById('deleteImageBtn')?.addEventListener('click', deleteCurrentImage);\n    document.getElementById('prevImageBtn')?.addEventListener('click', () => navigateImage('prev'));\n    document.getElementById('nextImageBtn')?.addEventListener('click', () => navigateImage('next'));\n\n    // Confirm modal\n    document.getElementById('closeConfirmModal')?.addEventListener('click', () => closeConfirmModal(false));\n    document.getElementById('confirmCancelBtn')?.addEventListener('click', () => closeConfirmModal(false));\n    document.getElementById('confirmOkBtn')?.addEventListener('click', () => closeConfirmModal(true));\n\n    // Close modals on outside click\n    document.getElementById('channelModal')?.addEventListener('click', (e) => {\n        if (e.target === e.currentTarget) closeChannelModal();\n    });\n\n    document.getElementById('tagsModal')?.addEventListener('click', (e) => {\n        if (e.target === e.currentTarget) closeTagsModal();\n    });\n\n    document.getElementById('imageModal')?.addEventListener('click', (e) => {\n        if (e.target === e.currentTarget) closeImageModal();\n    });\n\n    document.getElementById('confirmModal')?.addEventListener('click', (e) => {\n        if (e.target === e.currentTarget) closeConfirmModal(false);\n    });\n\n    document.getElementById('settingsModal')?.addEventListener('click', (e) => {\n        if (e.target === e.currentTarget) closeSettingsModal();\n    });\n}\n\n// Channel functions\nfunction createChannel(name: string, prompt: string, tags: string[]): Channel {\n    return {\n        id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n        name,\n        prompt,\n        tags,\n        images: [],\n        createdAt: Date.now()\n    };\n}\n\nfunction saveChannel() {\n    const nameInput = document.getElementById('channelNameInput') as HTMLInputElement;\n    const promptInput = document.getElementById('channelPromptInput') as HTMLTextAreaElement;\n    const negativePromptInput = document.getElementById('channelNegativePromptInput') as HTMLTextAreaElement;\n    const selectedTags = Array.from(document.querySelectorAll('.selected-tag'))\n        .map(tag => tag.textContent?.replace('\u00D7', '').trim() || '');\n\n    if (!nameInput.value.trim()) {\n        alert('Please enter a channel name');\n        return;\n    }\n\n    const modalTitle = document.getElementById('channelModalTitle')?.textContent;\n    const isEditing = modalTitle?.includes('Edit');\n\n    if (isEditing && state.activeChannelId) {\n        // Update existing channel\n        const channel = state.channels.find(c => c.id === state.activeChannelId);\n        if (channel) {\n            channel.name = nameInput.value.trim();\n            channel.prompt = promptInput.value.trim();\n            channel.negativePrompt = negativePromptInput.value.trim();\n            channel.tags = selectedTags;\n        }\n    } else {\n        // Create new channel\n        const newChannel: Channel = {\n            id: Date.now().toString(),\n            name: nameInput.value.trim(),\n            prompt: promptInput.value.trim(),\n            negativePrompt: negativePromptInput.value.trim(),\n            tags: selectedTags,\n            images: [],\n            createdAt: Date.now()\n        };\n        state.channels.unshift(newChannel);\n        state.activeChannelId = newChannel.id;\n    }\n\n    saveToStorage();\n    renderChannelsList();\n    renderFilterTags();\n\n    if (state.activeChannelId) {\n        selectChannel(state.activeChannelId);\n    }\n\n    closeChannelModal();\n}\n\nfunction deleteChannel(channelId: string) {\n    const channelIndex = state.channels.findIndex(c => c.id === channelId);\n    if (channelIndex === -1) return;\n\n    const deletedChannel = state.channels[channelIndex];\n\n    // Add to undo stack\n    addUndoAction({\n        type: 'delete-channel',\n        data: { ...deletedChannel },\n        timestamp: Date.now()\n    });\n\n    state.channels = state.channels.filter(c => c.id !== channelId);\n\n    if (state.activeChannelId === channelId) {\n        state.activeChannelId = null;\n        if (state.channels.length > 0) {\n            selectChannel(state.channels[0].id);\n        } else {\n            showEmptyState();\n        }\n    }\n\n    saveToStorage();\n    renderChannelsList();\n}\n\nfunction toggleStar(channelId: string) {\n    const channel = state.channels.find(c => c.id === channelId);\n    if (!channel) return;\n\n    channel.starred = !channel.starred;\n    saveToStorage();\n    renderChannelsList();\n}\n\nfunction selectChannel(channelId: string) {\n    state.activeChannelId = channelId;\n    const channel = state.channels.find(c => c.id === channelId);\n\n    if (!channel) return;\n\n    // Update UI\n    document.getElementById('emptyState')!.style.display = 'none';\n    document.getElementById('channelView')!.style.display = 'block';\n\n    // Update channel header\n    document.getElementById('currentChannelName')!.textContent = channel.name;\n\n    const tagsContainer = document.getElementById('currentChannelTags')!;\n    tagsContainer.innerHTML = channel.tags.map(tag =>\n        `<span class=\"channel-tag\">${tag}</span>`\n    ).join('');\n\n    // Update prompt\n    document.getElementById('promptText')!.textContent = channel.prompt || 'No prompt yet';\n\n    // Update negative prompt\n    const negativePromptSection = document.getElementById('negativePromptSection')!;\n    const negativePromptText = document.getElementById('negativePromptText')!;\n    if (channel.negativePrompt && channel.negativePrompt.trim()) {\n        negativePromptSection.style.display = 'block';\n        negativePromptText.textContent = channel.negativePrompt;\n    } else {\n        negativePromptSection.style.display = 'none';\n    }\n\n    // Update gallery\n    renderGallery(channel);\n\n    // Update active state in sidebar\n    document.querySelectorAll('.channel-item').forEach(item => {\n        item.classList.toggle('active', item.getAttribute('data-id') === channelId);\n    });\n}\n\nfunction showEmptyState() {\n    document.getElementById('emptyState')!.style.display = 'flex';\n    document.getElementById('channelView')!.style.display = 'none';\n}\n\n// Render functions\n// Virtual scrolling state\nconst CHANNELS_BUFFER_SIZE = 20; // Number of channels to render at once\n\nfunction renderChannelsList() {\n    const container = document.getElementById('channelsList')!;\n\n    // Filter by tags\n    let filteredChannels = state.channels;\n\n    if (state.activeFilters.length > 0) {\n        // Multi-tag filtering: show channels that have ALL selected tags\n        filteredChannels = state.channels.filter(c =>\n            state.activeFilters.every(tag => c.tags.includes(tag))\n        );\n    }\n\n    // Filter by search query\n    if (state.searchQuery) {\n        const query = state.searchQuery.toLowerCase();\n        filteredChannels = filteredChannels.filter(c =>\n            c.name.toLowerCase().includes(query) ||\n            c.prompt.toLowerCase().includes(query) ||\n            c.tags.some(tag => tag.toLowerCase().includes(query))\n        );\n    }\n\n    // Sort: starred channels first, then by order (if set), then by creation date\n    const sortedChannels = [...filteredChannels].sort((a, b) => {\n        if (a.starred && !b.starred) return -1;\n        if (!a.starred && b.starred) return 1;\n        if (a.order !== undefined && b.order !== undefined) return a.order - b.order;\n        if (a.order !== undefined) return -1;\n        if (b.order !== undefined) return 1;\n        return b.createdAt - a.createdAt;\n    });\n\n    if (sortedChannels.length === 0) {\n        container.innerHTML = '<p style=\"color: var(--cream-dark); font-size: 14px; text-align: center; padding: 20px;\">No channels found</p>';\n        return;\n    }\n\n    // Virtual scrolling: Only render channels that fit in viewport + buffer\n    // If there are fewer than CHANNELS_BUFFER_SIZE channels, render all\n    const channelsToRender = sortedChannels.length > CHANNELS_BUFFER_SIZE\n        ? sortedChannels.slice(0, CHANNELS_BUFFER_SIZE)\n        : sortedChannels;\n\n    container.innerHTML = channelsToRender.map(channel => {\n        const previewImage = channel.images[0] || '';\n        const previewPrompt = channel.prompt || 'No prompt yet';\n        const isStarred = channel.starred || false;\n\n        // Pre-convert emojis in channel name and tags\n        const convertedName = convertToTwemoji(channel.name);\n        const convertedTags = channel.tags.map(tag => convertToTwemoji(tag));\n\n        return `\n            <div class=\"channel-item ${isStarred ? 'starred' : ''}\"\n                 data-id=\"${channel.id}\"\n                 draggable=\"true\">\n                <div class=\"channel-item-header\">\n                    <div class=\"drag-handle\" title=\"Drag to reorder\">\n                        <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"/>\n                            <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"/>\n                            <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"/>\n                        </svg>\n                    </div>\n                    <div class=\"channel-item-name\">${convertedName}</div>\n                    <button class=\"btn-star\" data-id=\"${channel.id}\" title=\"${isStarred ? 'Unstar' : 'Star'} channel\">\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"${isStarred ? 'currentColor' : 'none'}\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"/>\n                        </svg>\n                    </button>\n                </div>\n                <div class=\"channel-item-preview\">\n                    ${previewImage ? `<img src=\"${previewImage}\" alt=\"Preview\" class=\"preview-image\">` : ''}\n                    <div class=\"preview-prompt\">${previewPrompt}</div>\n                </div>\n                ${channel.tags.length > 0 ? `\n                    <div class=\"channel-item-tags\">\n                        ${convertedTags.map(tag => `<span class=\"mini-tag\">${tag}</span>`).join('')}\n                    </div>\n                ` : ''}\n            </div>\n        `;\n    }).join('');\n\n    // Set up lazy loading for emoji images\n    container.querySelectorAll('img.emoji').forEach(img => {\n        if (img.getAttribute('data-src') && !img.getAttribute('src')) {\n            emojiObserver?.observe(img);\n        }\n    });\n\n    // Add click listeners for channel selection\n    container.querySelectorAll('.channel-item').forEach(item => {\n        item.addEventListener('click', (e) => {\n            // Don't select channel if clicking the star button or drag handle\n            if ((e.target as HTMLElement).closest('.btn-star')) return;\n            if ((e.target as HTMLElement).closest('.drag-handle')) return;\n            const id = item.getAttribute('data-id');\n            if (id) selectChannel(id);\n        });\n    });\n\n    // Add click listeners for star buttons\n    container.querySelectorAll('.btn-star').forEach(btn => {\n        btn.addEventListener('click', (e) => {\n            e.stopPropagation();\n            const id = btn.getAttribute('data-id');\n            if (id) toggleStar(id);\n        });\n    });\n\n    // Add drag and drop listeners\n    setupChannelDragAndDrop();\n}\n\nfunction renderFilterTags() {\n    const container = document.getElementById('filterTags')!;\n    const paginationContainer = document.getElementById('tagsPagination')!;\n    const actionsContainer = document.getElementById('tagsActions')!;\n\n    const totalPages = Math.ceil(state.tags.length / state.tagsPerPage);\n    const startIndex = state.currentTagPage * state.tagsPerPage;\n    const endIndex = Math.min(startIndex + state.tagsPerPage, state.tags.length);\n    const visibleTags = state.tags.slice(startIndex, endIndex);\n\n    const isAllActive = state.activeFilter === 'all' && state.activeFilters.length === 0;\n\n    // Pre-convert emojis to Twemoji BEFORE inserting into DOM\n    const allButtonHTML = `<button class=\"tag-filter ${isAllActive ? 'active' : ''}\" data-tag=\"all\">All</button>`;\n    const tagButtonsHTML = visibleTags.map(tag => {\n        const isActive = state.activeFilters.includes(tag);\n        const convertedTag = convertToTwemoji(tag);\n        return `<button class=\"tag-filter ${isActive ? 'active' : ''}\" data-tag=\"${tag}\">${convertedTag}</button>`;\n    }).join('');\n\n    container.innerHTML = allButtonHTML + tagButtonsHTML;\n\n    // Set up lazy loading for emoji images\n    container.querySelectorAll('img.emoji').forEach(img => {\n        if (img.getAttribute('data-src') && !img.getAttribute('src')) {\n            emojiObserver?.observe(img);\n        }\n    });\n\n    // Show/hide clear filters button\n    if (state.activeFilters.length > 0) {\n        actionsContainer.style.display = 'flex';\n    } else {\n        actionsContainer.style.display = 'none';\n    }\n\n    // Show/hide pagination\n    if (state.tags.length > state.tagsPerPage) {\n        paginationContainer.style.display = 'flex';\n        const pageInfo = document.getElementById('tagPageInfo')!;\n        pageInfo.textContent = `${state.currentTagPage + 1} / ${totalPages}`;\n\n        // Enable/disable buttons\n        const prevBtn = document.getElementById('prevTagPage') as HTMLButtonElement;\n        const nextBtn = document.getElementById('nextTagPage') as HTMLButtonElement;\n        prevBtn.disabled = state.currentTagPage === 0;\n        nextBtn.disabled = state.currentTagPage >= totalPages - 1;\n    } else {\n        paginationContainer.style.display = 'none';\n    }\n\n    // Add click listeners\n    container.querySelectorAll('.tag-filter').forEach(btn => {\n        btn.addEventListener('click', (e) => {\n            const tag = btn.getAttribute('data-tag') || 'all';\n\n            if (tag === 'all') {\n                // Clear all filters\n                state.activeFilter = 'all';\n                state.activeFilters = [];\n            } else {\n                // Toggle tag in multi-select\n                const index = state.activeFilters.indexOf(tag);\n                if (index === -1) {\n                    // Add tag to filters\n                    state.activeFilters.push(tag);\n                } else {\n                    // Remove tag from filters\n                    state.activeFilters.splice(index, 1);\n                }\n\n                // Update activeFilter for backward compatibility\n                if (state.activeFilters.length === 0) {\n                    state.activeFilter = 'all';\n                } else {\n                    state.activeFilter = state.activeFilters[0];\n                }\n            }\n\n            renderFilterTags();\n            renderChannelsList();\n        });\n    });\n}\n\nfunction renderGallery(channel: Channel) {\n    const container = document.getElementById('galleryGrid')!;\n\n    if (channel.images.length === 0) {\n        container.innerHTML = `\n            <div class=\"gallery-empty\">\n                <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\">\n                    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/>\n                    <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"/>\n                    <polyline points=\"21 15 16 10 5 21\"/>\n                </svg>\n                <p>${translations[state.language || 'en'].noImages}</p>\n            </div>\n        `;\n        return;\n    }\n\n    // Lazy loading with Intersection Observer for gallery images\n    container.innerHTML = channel.images.map((img, index) => `\n        <div class=\"gallery-item ${selectedImagesForComparison.includes(img) ? 'selected-for-comparison' : ''}\"\n             data-index=\"${index}\"\n             data-image-url=\"${img}\"\n             style=\"--hover-image: url('${img}')\">\n            <img data-src=\"${img}\" alt=\"Generated image ${index + 1}\" class=\"lazy-image\" style=\"background: var(--burgundy-light);\">\n        </div>\n    `).join('');\n\n    // Setup Intersection Observer for lazy loading gallery images\n    const imageObserver = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                const img = entry.target as HTMLImageElement;\n                const src = img.getAttribute('data-src');\n                if (src && !img.src) {\n                    img.src = src;\n                    img.onload = () => {\n                        img.style.background = 'transparent';\n                    };\n                    imageObserver.unobserve(img);\n                }\n            }\n        });\n    }, {\n        rootMargin: '50px',\n        threshold: 0.01\n    });\n\n    // Observe all lazy images\n    container.querySelectorAll('.lazy-image').forEach(img => {\n        imageObserver.observe(img);\n    });\n\n    // Add click listeners\n    container.querySelectorAll('.gallery-item').forEach(item => {\n        item.addEventListener('click', (e) => {\n            // Check if Ctrl/Cmd key is pressed for multi-select\n            if ((e as MouseEvent).ctrlKey || (e as MouseEvent).metaKey) {\n                const imageUrl = item.getAttribute('data-image-url') || '';\n                toggleImageSelection(imageUrl, item);\n            } else {\n                const index = parseInt(item.getAttribute('data-index') || '0');\n                openImageModal(channel.images[index], index);\n            }\n        });\n    });\n\n    // Setup drag and drop for images\n    setupImageDragAndDrop(channel);\n}\n\n// Modal functions\nfunction openChannelModal(channelId?: string) {\n    const modal = document.getElementById('channelModal')!;\n    const title = document.getElementById('channelModalTitle')!;\n    const nameInput = document.getElementById('channelNameInput') as HTMLInputElement;\n    const promptInput = document.getElementById('channelPromptInput') as HTMLTextAreaElement;\n    const negativePromptInput = document.getElementById('channelNegativePromptInput') as HTMLTextAreaElement;\n    const selectedTagsContainer = document.getElementById('selectedTags')!;\n\n    selectedTagsContainer.innerHTML = '';\n\n    if (channelId) {\n        const channel = state.channels.find(c => c.id === channelId);\n        if (channel) {\n            title.textContent = 'Edit Channel';\n            nameInput.value = channel.name;\n            promptInput.value = channel.prompt;\n            negativePromptInput.value = channel.negativePrompt || '';\n\n            // Add tags with proper event listeners\n            channel.tags.forEach(tag => {\n                const tagElement = document.createElement('span');\n                tagElement.className = 'selected-tag';\n                tagElement.innerHTML = `${tag}<button class=\"remove-tag\">\u00D7</button>`;\n\n                const removeBtn = tagElement.querySelector('.remove-tag');\n                removeBtn?.addEventListener('click', () => {\n                    tagElement.remove();\n                    renderAvailableTags();\n                });\n\n                selectedTagsContainer.appendChild(tagElement);\n            });\n        }\n    } else {\n        title.textContent = 'Create New Channel';\n        nameInput.value = '';\n        promptInput.value = '';\n        negativePromptInput.value = '';\n    }\n\n    renderAvailableTags();\n    modal.classList.add('active');\n    nameInput.focus();\n\n    // Add autocomplete event listeners for Danbooru tags\n    // Remove any existing data attribute to prevent duplicate listeners\n    if (!promptInput.dataset.autocompleteInit) {\n        promptInput.addEventListener('input', () => {\n            const cursorPos = promptInput.selectionStart;\n            const currentWord = getCurrentWord(promptInput.value, cursorPos);\n            showTagAutocomplete(currentWord, promptInput);\n        });\n\n        promptInput.addEventListener('keydown', (e: KeyboardEvent) => {\n            handleAutocompleteKeydown(e, promptInput);\n        });\n\n        promptInput.dataset.autocompleteInit = 'true';\n    }\n}\n\nfunction closeChannelModal() {\n    document.getElementById('channelModal')!.classList.remove('active');\n    // Hide autocomplete when modal closes\n    const autocomplete = document.getElementById('tagAutocomplete');\n    if (autocomplete) {\n        autocomplete.style.display = 'none';\n    }\n    autocompleteSelectedIndex = -1;\n}\n\nfunction openTagsModal() {\n    renderExistingTags();\n    document.getElementById('tagsModal')!.classList.add('active');\n}\n\nfunction closeTagsModal() {\n    document.getElementById('tagsModal')!.classList.remove('active');\n}\n\nlet currentImageIndex = 0;\n\nfunction openImageModal(imageSrc: string, index: number) {\n    const modal = document.getElementById('imageModal')!;\n    const img = document.getElementById('modalImage') as HTMLImageElement;\n\n    img.src = imageSrc;\n    currentImageIndex = index;\n    modal.classList.add('active');\n\n    // Calculate and display image metadata\n    const image = new Image();\n    image.onload = function() {\n        const dimensions = `${image.width} \u00D7 ${image.height}`;\n        const sizeInBytes = Math.round((imageSrc.length * 3) / 4); // Approximate base64 size\n        const sizeInKB = (sizeInBytes / 1024).toFixed(1);\n        const sizeInMB = (sizeInBytes / (1024 * 1024)).toFixed(2);\n\n        const dimensionsEl = document.getElementById('imageDimensions');\n        const sizeEl = document.getElementById('imageSize');\n\n        if (dimensionsEl) dimensionsEl.textContent = dimensions;\n        if (sizeEl) {\n            if (sizeInBytes > 1024 * 1024) {\n                sizeEl.textContent = `${sizeInMB} MB`;\n            } else {\n                sizeEl.textContent = `${sizeInKB} KB`;\n            }\n        }\n    };\n    image.src = imageSrc;\n\n    updateImageNavigation();\n}\n\nfunction updateImageNavigation() {\n    if (!state.activeChannelId) return;\n\n    const channel = state.channels.find(c => c.id === state.activeChannelId);\n    if (!channel) return;\n\n    const prevBtn = document.getElementById('prevImageBtn') as HTMLButtonElement;\n    const nextBtn = document.getElementById('nextImageBtn') as HTMLButtonElement;\n\n    const totalImages = channel.images.length;\n\n    // Only show navigation if there's more than one image\n    if (totalImages > 1) {\n        // Show/hide prev button\n        if (currentImageIndex > 0) {\n            prevBtn.style.display = 'flex';\n        } else {\n            prevBtn.style.display = 'none';\n        }\n\n        // Show/hide next button\n        if (currentImageIndex < totalImages - 1) {\n            nextBtn.style.display = 'flex';\n        } else {\n            nextBtn.style.display = 'none';\n        }\n    } else {\n        prevBtn.style.display = 'none';\n        nextBtn.style.display = 'none';\n    }\n}\n\nfunction navigateImage(direction: 'prev' | 'next') {\n    if (!state.activeChannelId) return;\n\n    const channel = state.channels.find(c => c.id === state.activeChannelId);\n    if (!channel) return;\n\n    if (direction === 'prev' && currentImageIndex > 0) {\n        currentImageIndex--;\n    } else if (direction === 'next' && currentImageIndex < channel.images.length - 1) {\n        currentImageIndex++;\n    }\n\n    const img = document.getElementById('modalImage') as HTMLImageElement;\n    img.src = channel.images[currentImageIndex];\n\n    updateImageNavigation();\n}\n\nfunction closeImageModal() {\n    document.getElementById('imageModal')!.classList.remove('active');\n}\n\nasync function deleteCurrentImage() {\n    if (!state.activeChannelId) return;\n\n    const channel = state.channels.find(c => c.id === state.activeChannelId);\n    if (!channel) return;\n\n    const confirmDelete = await customConfirm('Are you sure you want to delete this image?');\n    if (confirmDelete) {\n        const deletedImage = channel.images[currentImageIndex];\n\n        console.log('Before delete - channel images:', channel.images.length);\n        console.log('Deleting image at index:', currentImageIndex);\n\n        // Add to undo stack\n        addUndoAction({\n            type: 'delete-image',\n            data: {\n                channelId: state.activeChannelId,\n                imageUrl: deletedImage,\n                index: currentImageIndex\n            },\n            timestamp: Date.now()\n        });\n\n        // Remove from comparison selection if it was selected\n        const comparisonIndex = selectedImagesForComparison.indexOf(deletedImage);\n        if (comparisonIndex !== -1) {\n            selectedImagesForComparison.splice(comparisonIndex, 1);\n            updateCompareButton();\n        }\n\n        // Remove the image from the channel\n        channel.images.splice(currentImageIndex, 1);\n\n        console.log('After delete - channel images:', channel.images.length);\n\n        // Close modal first to prevent visual glitch\n        closeImageModal();\n\n        // Save to storage\n        saveToStorage();\n\n        console.log('About to render gallery with', channel.images.length, 'images');\n\n        // Force re-render the gallery\n        renderGallery(channel);\n\n        console.log('Gallery rendered');\n\n        // Update channels list\n        renderChannelsList();\n    }\n}\n\n// Tag functions\nfunction addTagToChannel() {\n    const input = document.getElementById('tagInput') as HTMLInputElement;\n    const tagName = input.value.trim();\n\n    if (!tagName) return;\n\n    const selectedTags = Array.from(document.querySelectorAll('.selected-tag'))\n        .map(tag => tag.textContent?.replace('\u00D7', '').trim() || '');\n\n    if (selectedTags.includes(tagName)) {\n        input.value = '';\n        return;\n    }\n\n    // Add to available tags if not exists\n    if (!state.tags.includes(tagName)) {\n        state.tags.push(tagName);\n        saveToStorage();\n    }\n\n    const selectedTagsContainer = document.getElementById('selectedTags')!;\n    const tagElement = document.createElement('span');\n    tagElement.className = 'selected-tag';\n    tagElement.innerHTML = `${tagName}<button class=\"remove-tag\">\u00D7</button>`;\n\n    const removeBtn = tagElement.querySelector('.remove-tag');\n    removeBtn?.addEventListener('click', () => {\n        tagElement.remove();\n    });\n\n    selectedTagsContainer.appendChild(tagElement);\n\n    input.value = '';\n    renderAvailableTags();\n}\n\nfunction renderAvailableTags() {\n    const container = document.getElementById('availableTags')!;\n    const selectedTags = Array.from(document.querySelectorAll('.selected-tag'))\n        .map(tag => tag.textContent?.replace('\u00D7', '').trim() || '');\n\n    const availableTags = state.tags.filter(tag => !selectedTags.includes(tag));\n\n    container.innerHTML = '';\n\n    availableTags.forEach(tag => {\n        const btn = document.createElement('button');\n        btn.className = 'available-tag';\n        btn.textContent = tag;\n        btn.addEventListener('click', () => addExistingTag(tag));\n        container.appendChild(btn);\n    });\n}\n\nfunction addExistingTag(tagName: string) {\n    const selectedTagsContainer = document.getElementById('selectedTags')!;\n\n    const tagElement = document.createElement('span');\n    tagElement.className = 'selected-tag';\n    tagElement.innerHTML = `${tagName}<button class=\"remove-tag\">\u00D7</button>`;\n\n    const removeBtn = tagElement.querySelector('.remove-tag');\n    removeBtn?.addEventListener('click', () => {\n        tagElement.remove();\n        renderAvailableTags();\n    });\n\n    selectedTagsContainer.appendChild(tagElement);\n    renderAvailableTags();\n}\n\nfunction addNewTag() {\n    const input = document.getElementById('newTagInput') as HTMLInputElement;\n    const tagName = input.value.trim();\n\n    if (!tagName) return;\n\n    if (state.tags.includes(tagName)) {\n        alert('This tag already exists');\n        return;\n    }\n\n    state.tags.push(tagName);\n    saveToStorage();\n    renderExistingTags();\n    renderFilterTags();\n    input.value = '';\n}\n\nfunction renderExistingTags() {\n    const container = document.getElementById('existingTagsList')!;\n\n    if (state.tags.length === 0) {\n        container.innerHTML = '<p style=\"color: var(--cream-dark); font-size: 14px; text-align: center; padding: 20px;\">No tags created yet</p>';\n        return;\n    }\n\n    container.innerHTML = '';\n\n    state.tags.forEach(tag => {\n        const item = document.createElement('div');\n        item.className = 'existing-tag-item';\n        item.setAttribute('draggable', 'true');\n        item.setAttribute('data-tag', tag);\n\n        const nameSpan = document.createElement('span');\n        nameSpan.className = 'existing-tag-name';\n        nameSpan.textContent = tag;\n\n        const deleteBtn = document.createElement('button');\n        deleteBtn.className = 'btn-delete-tag';\n        deleteBtn.textContent = t('delete');\n        deleteBtn.addEventListener('click', async () => {\n            const confirmDelete = await customConfirm(t('confirmDeleteTag'));\n            if (confirmDelete) {\n                deleteTag(tag);\n            }\n        });\n\n        item.appendChild(nameSpan);\n        item.appendChild(deleteBtn);\n        container.appendChild(item);\n    });\n\n    setupTagDragAndDrop();\n}\n\nfunction deleteTag(tagName: string) {\n    // Store affected channels for undo\n    const affectedChannels = state.channels\n        .filter(c => c.tags.includes(tagName))\n        .map(c => ({ id: c.id, tags: [...c.tags] }));\n\n    // Add to undo stack\n    addUndoAction({\n        type: 'delete-tag',\n        data: {\n            tagName,\n            affectedChannels\n        },\n        timestamp: Date.now()\n    });\n\n    state.tags = state.tags.filter(t => t !== tagName);\n    state.channels.forEach(channel => {\n        channel.tags = channel.tags.filter(t => t !== tagName);\n    });\n\n    if (state.activeFilter === tagName) {\n        state.activeFilter = 'all';\n    }\n\n    saveToStorage();\n    renderExistingTags();\n    renderFilterTags();\n    renderChannelsList();\n\n    if (state.activeChannelId) {\n        selectChannel(state.activeChannelId);\n    }\n}\n\n// File upload\nfunction handleFileUpload(e: Event) {\n    if (!state.activeChannelId) return;\n\n    const input = e.target as HTMLInputElement;\n    const files = input.files;\n\n    if (!files || files.length === 0) return;\n\n    const channel = state.channels.find(c => c.id === state.activeChannelId);\n    if (!channel) return;\n\n    Array.from(files).forEach(file => {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n            const result = event.target?.result as string;\n            channel.images.push(result);\n            saveToStorage();\n            renderGallery(channel);\n            renderChannelsList();\n        };\n        reader.readAsDataURL(file);\n    });\n\n    input.value = '';\n}\n\n// Settings functions\nfunction openSettingsModal() {\n    // Update stats\n    const channelCountEl = document.getElementById('channelCount');\n    const tagCountEl = document.getElementById('tagCount');\n    const danbooruTagCountEl = document.getElementById('danbooruTagCount');\n\n    if (channelCountEl) {\n        channelCountEl.textContent = state.channels.length.toString();\n    }\n\n    if (tagCountEl) {\n        tagCountEl.textContent = state.tags.length.toString();\n    }\n\n    if (danbooruTagCountEl) {\n        danbooruTagCountEl.textContent = customDanbooruTags.length.toString();\n    }\n\n    // Reorder theme options to show active theme first\n    const themeSelector = document.querySelector('.theme-selector')!;\n    const themeOptions = Array.from(themeSelector.querySelectorAll('.theme-option'));\n\n    // Sort so active theme comes first\n    themeOptions.sort((a, b) => {\n        const aActive = a.classList.contains('active') ? 0 : 1;\n        const bActive = b.classList.contains('active') ? 0 : 1;\n        return aActive - bActive;\n    });\n\n    // Clear and re-append in new order\n    themeSelector.innerHTML = '';\n    themeOptions.forEach(option => themeSelector.appendChild(option));\n\n    // Render Danbooru tags list\n    renderDanbooruTags();\n\n    document.getElementById('settingsModal')!.classList.add('active');\n}\n\nfunction closeSettingsModal() {\n    document.getElementById('settingsModal')!.classList.remove('active');\n}\n\nfunction exportData() {\n    const data = {\n        channels: state.channels,\n        tags: state.tags,\n        customDanbooruTags: customDanbooruTags,\n        version: '1.0.0',\n        exportedAt: new Date().toISOString()\n    };\n\n    const jsonString = JSON.stringify(data, null, 2);\n\n    // Create a text area with the JSON data for manual copying\n    const textArea = document.createElement('textarea');\n    textArea.value = jsonString;\n    textArea.style.position = 'fixed';\n    textArea.style.top = '50%';\n    textArea.style.left = '50%';\n    textArea.style.transform = 'translate(-50%, -50%)';\n    textArea.style.width = '80%';\n    textArea.style.height = '60%';\n    textArea.style.padding = '20px';\n    textArea.style.background = '#1a0a0a';\n    textArea.style.color = '#f4e8d8';\n    textArea.style.border = '2px solid var(--silver)';\n    textArea.style.borderRadius = '12px';\n    textArea.style.fontSize = '14px';\n    textArea.style.fontFamily = 'monospace';\n    textArea.style.zIndex = '3000';\n    textArea.readOnly = true;\n\n    document.body.appendChild(textArea);\n    textArea.select();\n\n    // Try to copy to clipboard\n    try {\n        document.execCommand('copy');\n\n        // Show success message\n        const message = document.createElement('div');\n        message.textContent = '\u2713 Data copied to clipboard! Save it as a .json file.';\n        message.style.position = 'fixed';\n        message.style.top = '20px';\n        message.style.left = '50%';\n        message.style.transform = 'translateX(-50%)';\n        message.style.background = '#34c759';\n        message.style.color = 'white';\n        message.style.padding = '12px 24px';\n        message.style.borderRadius = '8px';\n        message.style.fontWeight = '600';\n        message.style.zIndex = '3001';\n        message.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';\n        document.body.appendChild(message);\n\n        setTimeout(() => {\n            document.body.removeChild(message);\n            document.body.removeChild(textArea);\n        }, 3000);\n    } catch (err) {\n        console.error('Copy failed:', err);\n        // Just leave the textarea visible for manual copying\n        const closeBtn = document.createElement('button');\n        closeBtn.textContent = 'Close';\n        closeBtn.style.position = 'fixed';\n        closeBtn.style.top = 'calc(50% + 32%)';\n        closeBtn.style.left = '50%';\n        closeBtn.style.transform = 'translateX(-50%)';\n        closeBtn.style.padding = '10px 24px';\n        closeBtn.style.background = 'var(--reddish-brown)';\n        closeBtn.style.color = 'var(--cream)';\n        closeBtn.style.border = '1px solid var(--silver)';\n        closeBtn.style.borderRadius = '6px';\n        closeBtn.style.cursor = 'pointer';\n        closeBtn.style.zIndex = '3001';\n        closeBtn.onclick = () => {\n            document.body.removeChild(textArea);\n            document.body.removeChild(closeBtn);\n        };\n        document.body.appendChild(closeBtn);\n    }\n}\n\n// Export individual channel\nfunction exportChannel(channelId: string) {\n    const channel = state.channels.find(c => c.id === channelId);\n    if (!channel) return;\n\n    const data = {\n        channel: channel,\n        version: '1.0.0',\n        exportedAt: new Date().toISOString()\n    };\n\n    const jsonString = JSON.stringify(data, null, 2);\n    const blob = new Blob([jsonString], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${channel.name.replace(/[^a-z0-9]/gi, '_').toLowerCase()}_channel.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n\n    // Show success message\n    const message = document.createElement('div');\n    message.textContent = `\u2713 Channel \"${channel.name}\" exported successfully!`;\n    message.style.position = 'fixed';\n    message.style.top = '20px';\n    message.style.left = '50%';\n    message.style.transform = 'translateX(-50%)';\n    message.style.background = '#34c759';\n    message.style.color = 'white';\n    message.style.padding = '12px 24px';\n    message.style.borderRadius = '8px';\n    message.style.fontWeight = '600';\n    message.style.zIndex = '3001';\n    message.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';\n    document.body.appendChild(message);\n\n    setTimeout(() => {\n        document.body.removeChild(message);\n    }, 3000);\n}\n\nfunction importData(e: Event) {\n    const input = e.target as HTMLInputElement;\n    const file = input.files?.[0];\n\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (event) => {\n        try {\n            const data = JSON.parse(event.target?.result as string);\n\n            // Validate data structure\n            if (!data.channels || !data.tags) {\n                alert('Invalid backup file format');\n                return;\n            }\n\n            // Import data\n            state.channels = data.channels;\n            state.tags = data.tags;\n            state.activeChannelId = null;\n            state.activeFilter = 'all';\n            state.activeFilters = [];\n\n            // Import custom Danbooru tags if present\n            if (data.customDanbooruTags) {\n                customDanbooruTags = data.customDanbooruTags;\n            }\n\n            saveToStorage();\n            renderChannelsList();\n            renderFilterTags();\n            showEmptyState();\n            closeSettingsModal();\n\n            alert('Data imported successfully!');\n        } catch (err) {\n            console.error('Failed to import data:', err);\n            alert('Failed to import data. Please check the file format.');\n        }\n    };\n\n    reader.readAsText(file);\n    input.value = '';\n}\n\nasync function clearAllData() {\n    const confirmClear = await customConfirm(t('confirmClearData'));\n\n    if (confirmClear) {\n        state.channels = [];\n        state.tags = [];\n        state.activeChannelId = null;\n        state.activeFilter = 'all';\n\n        saveToStorage();\n        renderChannelsList();\n        renderFilterTags();\n        showEmptyState();\n        closeSettingsModal();\n\n        alert('All data has been cleared.');\n    }\n}\n\n// Theme functions\nfunction applyTheme(themeName: string) {\n    document.documentElement.setAttribute('data-theme', themeName);\n}\n\nfunction selectTheme(themeName: string) {\n    state.theme = themeName;\n    saveToStorage();\n    applyTheme(themeName);\n\n    // Update active state in UI\n    document.querySelectorAll('.theme-option').forEach(option => {\n        option.classList.remove('active');\n        if (option.getAttribute('data-theme') === themeName) {\n            option.classList.add('active');\n        }\n    });\n\n    // Reorder theme options to show active theme first\n    const themeSelector = document.querySelector('.theme-selector')!;\n    const themeOptions = Array.from(themeSelector.querySelectorAll('.theme-option'));\n\n    // Sort so active theme comes first\n    themeOptions.sort((a, b) => {\n        const aActive = a.classList.contains('active') ? 0 : 1;\n        const bActive = b.classList.contains('active') ? 0 : 1;\n        return aActive - bActive;\n    });\n\n    // Clear and re-append in new order\n    themeSelector.innerHTML = '';\n    themeOptions.forEach(option => themeSelector.appendChild(option));\n}\n\nfunction selectLanguage(lang: string) {\n    state.language = lang;\n    saveToStorage();\n\n    // Update the displayed language\n    const selectedLanguageEl = document.getElementById('selectedLanguage');\n    if (selectedLanguageEl && translations[lang]) {\n        selectedLanguageEl.textContent = translations[lang].name;\n    }\n\n    // Update active state in UI\n    document.querySelectorAll('.language-option').forEach(option => {\n        option.classList.remove('active');\n        if (option.getAttribute('data-lang') === lang) {\n            option.classList.add('active');\n        }\n    });\n\n    // Update all UI text to the new language\n    updateUILanguage();\n}\n\nfunction applyLanguage(lang: string) {\n    const selectedLanguageEl = document.getElementById('selectedLanguage');\n    if (selectedLanguageEl && translations[lang]) {\n        selectedLanguageEl.textContent = translations[lang].name;\n    }\n\n    // Update active state in UI\n    document.querySelectorAll('.language-option').forEach(option => {\n        option.classList.remove('active');\n        if (option.getAttribute('data-lang') === lang) {\n            option.classList.add('active');\n        }\n    });\n\n    // Update all UI text to the selected language\n    updateUILanguage();\n}\n\n// Drag and drop functionality\nlet draggedChannelId: string | null = null;\n\nfunction setupChannelDragAndDrop() {\n    const channelItems = document.querySelectorAll('.channel-item');\n\n    channelItems.forEach(item => {\n        item.addEventListener('dragstart', (e) => {\n            draggedChannelId = item.getAttribute('data-id');\n            item.classList.add('dragging');\n            (e as DragEvent).dataTransfer!.effectAllowed = 'move';\n        });\n\n        item.addEventListener('dragend', () => {\n            item.classList.remove('dragging');\n            draggedChannelId = null;\n        });\n\n        item.addEventListener('dragover', (e) => {\n            e.preventDefault();\n            (e as DragEvent).dataTransfer!.dropEffect = 'move';\n\n            const draggingItem = document.querySelector('.dragging');\n            if (!draggingItem) return;\n\n            const rect = item.getBoundingClientRect();\n            const midpoint = rect.top + rect.height / 2;\n\n            if ((e as DragEvent).clientY < midpoint) {\n                item.classList.add('drag-over-top');\n                item.classList.remove('drag-over-bottom');\n            } else {\n                item.classList.add('drag-over-bottom');\n                item.classList.remove('drag-over-top');\n            }\n        });\n\n        item.addEventListener('dragleave', () => {\n            item.classList.remove('drag-over-top', 'drag-over-bottom');\n        });\n\n        item.addEventListener('drop', (e) => {\n            e.preventDefault();\n            item.classList.remove('drag-over-top', 'drag-over-bottom');\n\n            const targetId = item.getAttribute('data-id');\n            if (!draggedChannelId || !targetId || draggedChannelId === targetId) return;\n\n            const draggedIndex = state.channels.findIndex(c => c.id === draggedChannelId);\n            const targetIndex = state.channels.findIndex(c => c.id === targetId);\n\n            if (draggedIndex === -1 || targetIndex === -1) return;\n\n            // Reorder channels\n            const [draggedChannel] = state.channels.splice(draggedIndex, 1);\n            state.channels.splice(targetIndex, 0, draggedChannel);\n\n            // Update order property for all channels\n            state.channels.forEach((channel, index) => {\n                channel.order = index;\n            });\n\n            saveToStorage();\n            renderChannelsList();\n        });\n    });\n}\n\nlet draggedImageIndex: number | null = null;\n\nfunction setupImageDragAndDrop(channel: Channel) {\n    const galleryItems = document.querySelectorAll('.gallery-item');\n\n    galleryItems.forEach((item, index) => {\n        item.setAttribute('draggable', 'true');\n\n        item.addEventListener('dragstart', (e) => {\n            draggedImageIndex = index;\n            item.classList.add('dragging');\n            (e as DragEvent).dataTransfer!.effectAllowed = 'move';\n        });\n\n        item.addEventListener('dragend', () => {\n            item.classList.remove('dragging');\n            draggedImageIndex = null;\n        });\n\n        item.addEventListener('dragover', (e) => {\n            e.preventDefault();\n            (e as DragEvent).dataTransfer!.dropEffect = 'move';\n\n            const draggingItem = document.querySelector('.gallery-item.dragging');\n            if (!draggingItem) return;\n\n            item.classList.add('drag-over');\n        });\n\n        item.addEventListener('dragleave', () => {\n            item.classList.remove('drag-over');\n        });\n\n        item.addEventListener('drop', (e) => {\n            e.preventDefault();\n            item.classList.remove('drag-over');\n\n            if (draggedImageIndex === null || draggedImageIndex === index) return;\n\n            // Reorder images\n            const [draggedImage] = channel.images.splice(draggedImageIndex, 1);\n            channel.images.splice(index, 0, draggedImage);\n\n            saveToStorage();\n            renderGallery(channel);\n            renderChannelsList(); // Update preview image if first image changed\n        });\n    });\n}\n\n// Drag and drop for tags\nlet draggedTagName: string | null = null;\n\nfunction setupTagDragAndDrop() {\n    const tagItems = document.querySelectorAll('.existing-tag-item');\n\n    tagItems.forEach(item => {\n        item.addEventListener('dragstart', (e) => {\n            draggedTagName = item.getAttribute('data-tag');\n            item.classList.add('dragging');\n            (e as DragEvent).dataTransfer!.effectAllowed = 'move';\n        });\n\n        item.addEventListener('dragend', () => {\n            item.classList.remove('dragging');\n            draggedTagName = null;\n        });\n\n        item.addEventListener('dragover', (e) => {\n            e.preventDefault();\n            (e as DragEvent).dataTransfer!.dropEffect = 'move';\n\n            const draggingItem = document.querySelector('.existing-tag-item.dragging');\n            if (!draggingItem) return;\n\n            const rect = item.getBoundingClientRect();\n            const midpoint = rect.top + rect.height / 2;\n\n            if ((e as DragEvent).clientY < midpoint) {\n                item.classList.add('drag-over-top');\n                item.classList.remove('drag-over-bottom');\n            } else {\n                item.classList.add('drag-over-bottom');\n                item.classList.remove('drag-over-top');\n            }\n        });\n\n        item.addEventListener('dragleave', () => {\n            item.classList.remove('drag-over-top', 'drag-over-bottom');\n        });\n\n        item.addEventListener('drop', (e) => {\n            e.preventDefault();\n            item.classList.remove('drag-over-top', 'drag-over-bottom');\n\n            const targetTagName = item.getAttribute('data-tag');\n            if (!draggedTagName || !targetTagName || draggedTagName === targetTagName) return;\n\n            const draggedIndex = state.tags.findIndex(t => t === draggedTagName);\n            const targetIndex = state.tags.findIndex(t => t === targetTagName);\n\n            if (draggedIndex === -1 || targetIndex === -1) return;\n\n            // Reorder tags\n            const [draggedTag] = state.tags.splice(draggedIndex, 1);\n            state.tags.splice(targetIndex, 0, draggedTag);\n\n            saveToStorage();\n            renderExistingTags();\n            renderFilterTags();\n            renderAvailableTags();\n        });\n    });\n}\n\n// Image comparison functionality\nlet selectedImagesForComparison: string[] = [];\n\nfunction toggleImageSelection(imageUrl: string, itemElement: Element) {\n    const index = selectedImagesForComparison.indexOf(imageUrl);\n\n    if (index > -1) {\n        // Remove from selection\n        selectedImagesForComparison.splice(index, 1);\n        itemElement.classList.remove('selected-for-comparison');\n    } else {\n        // Add to selection\n        selectedImagesForComparison.push(imageUrl);\n        itemElement.classList.add('selected-for-comparison');\n    }\n\n    updateCompareButton();\n}\n\nfunction updateCompareButton() {\n    const compareBtn = document.getElementById('compareImagesBtn');\n    const compareCount = document.getElementById('compareCount');\n\n    if (!compareBtn || !compareCount) return;\n\n    if (selectedImagesForComparison.length >= 2) {\n        compareBtn.style.display = 'flex';\n        compareCount.textContent = selectedImagesForComparison.length.toString();\n    } else {\n        compareBtn.style.display = 'none';\n    }\n}\n\nfunction openComparisonModal() {\n    if (selectedImagesForComparison.length < 2) return;\n\n    const modal = document.getElementById('comparisonModal')!;\n    const container = document.getElementById('comparisonContainer')!;\n\n    container.innerHTML = selectedImagesForComparison.map((img, index) => `\n        <div class=\"comparison-item\">\n            <img src=\"${img}\" alt=\"Comparison ${index + 1}\">\n            <div class=\"comparison-item-label\">Image ${index + 1}</div>\n        </div>\n    `).join('');\n\n    modal.classList.add('active');\n}\n\nfunction closeComparisonModal() {\n    document.getElementById('comparisonModal')!.classList.remove('active');\n}\n\nfunction clearComparisonSelection() {\n    selectedImagesForComparison = [];\n    document.querySelectorAll('.gallery-item').forEach(item => {\n        item.classList.remove('selected-for-comparison');\n    });\n    updateCompareButton();\n    closeComparisonModal();\n}\n\n// Danbooru tag autocomplete\nconst danbooruTags: DanbooruTag[] = [\n    // Quality & Rating tags\n    { name: 'masterpiece', category: 'meta' },\n    { name: 'best quality', category: 'meta' },\n    { name: 'high quality', category: 'meta' },\n    { name: 'absurdres', category: 'meta' },\n    { name: 'highres', category: 'meta' },\n    { name: 'ultra detailed', category: 'meta' },\n    { name: '4k', category: 'meta' },\n    { name: '8k', category: 'meta' },\n\n    // Common general tags\n    { name: '1girl', category: 'general' },\n    { name: '1boy', category: 'general' },\n    { name: '2girls', category: 'general' },\n    { name: '2boys', category: 'general' },\n    { name: 'multiple girls', category: 'general' },\n    { name: 'multiple boys', category: 'general' },\n    { name: 'solo', category: 'general' },\n    { name: 'duo', category: 'general' },\n    { name: 'group', category: 'general' },\n    { name: 'looking at viewer', category: 'general' },\n    { name: 'looking away', category: 'general' },\n    { name: 'looking back', category: 'general' },\n    { name: 'smile', category: 'general' },\n    { name: 'grin', category: 'general' },\n    { name: 'smirk', category: 'general' },\n    { name: 'open mouth', category: 'general' },\n    { name: 'closed mouth', category: 'general' },\n    { name: 'closed eyes', category: 'general' },\n    { name: 'blush', category: 'general' },\n    { name: 'angry', category: 'general' },\n    { name: 'sad', category: 'general' },\n    { name: 'crying', category: 'general' },\n    { name: 'laughing', category: 'general' },\n    { name: 'embarrassed', category: 'general' },\n\n    // Hair - Length\n    { name: 'long hair', category: 'general' },\n    { name: 'very long hair', category: 'general' },\n    { name: 'short hair', category: 'general' },\n    { name: 'medium hair', category: 'general' },\n    { name: 'shoulder-length hair', category: 'general' },\n    { name: 'waist-length hair', category: 'general' },\n\n    // Hair - Color\n    { name: 'blonde hair', category: 'general' },\n    { name: 'brown hair', category: 'general' },\n    { name: 'black hair', category: 'general' },\n    { name: 'white hair', category: 'general' },\n    { name: 'gray hair', category: 'general' },\n    { name: 'silver hair', category: 'general' },\n    { name: 'red hair', category: 'general' },\n    { name: 'blue hair', category: 'general' },\n    { name: 'pink hair', category: 'general' },\n    { name: 'purple hair', category: 'general' },\n    { name: 'green hair', category: 'general' },\n    { name: 'orange hair', category: 'general' },\n    { name: 'multicolored hair', category: 'general' },\n    { name: 'gradient hair', category: 'general' },\n    { name: 'two-tone hair', category: 'general' },\n\n    // Hair - Style\n    { name: 'ponytail', category: 'general' },\n    { name: 'twin tails', category: 'general' },\n    { name: 'side ponytail', category: 'general' },\n    { name: 'braid', category: 'general' },\n    { name: 'single braid', category: 'general' },\n    { name: 'twin braids', category: 'general' },\n    { name: 'french braid', category: 'general' },\n    { name: 'bun', category: 'general' },\n    { name: 'double bun', category: 'general' },\n    { name: 'hair bun', category: 'general' },\n    { name: 'messy hair', category: 'general' },\n    { name: 'wavy hair', category: 'general' },\n    { name: 'curly hair', category: 'general' },\n    { name: 'straight hair', category: 'general' },\n    { name: 'ahoge', category: 'general' },\n    { name: 'bangs', category: 'general' },\n    { name: 'blunt bangs', category: 'general' },\n\n    // Eyes - Color\n    { name: 'blue eyes', category: 'general' },\n    { name: 'red eyes', category: 'general' },\n    { name: 'green eyes', category: 'general' },\n    { name: 'brown eyes', category: 'general' },\n    { name: 'yellow eyes', category: 'general' },\n    { name: 'purple eyes', category: 'general' },\n    { name: 'pink eyes', category: 'general' },\n    { name: 'orange eyes', category: 'general' },\n    { name: 'golden eyes', category: 'general' },\n    { name: 'heterochromia', category: 'general' },\n    { name: 'multicolored eyes', category: 'general' },\n\n    // Clothing - Tops\n    { name: 'shirt', category: 'general' },\n    { name: 't-shirt', category: 'general' },\n    { name: 'blouse', category: 'general' },\n    { name: 'sweater', category: 'general' },\n    { name: 'hoodie', category: 'general' },\n    { name: 'jacket', category: 'general' },\n    { name: 'coat', category: 'general' },\n    { name: 'cardigan', category: 'general' },\n    { name: 'vest', category: 'general' },\n    { name: 'blazer', category: 'general' },\n\n    // Clothing - Bottoms\n    { name: 'skirt', category: 'general' },\n    { name: 'miniskirt', category: 'general' },\n    { name: 'long skirt', category: 'general' },\n    { name: 'pleated skirt', category: 'general' },\n    { name: 'pants', category: 'general' },\n    { name: 'jeans', category: 'general' },\n    { name: 'shorts', category: 'general' },\n    { name: 'leggings', category: 'general' },\n\n    // Clothing - Dresses & Full Body\n    { name: 'dress', category: 'general' },\n    { name: 'sundress', category: 'general' },\n    { name: 'wedding dress', category: 'general' },\n    { name: 'evening gown', category: 'general' },\n    { name: 'school uniform', category: 'general' },\n    { name: 'sailor uniform', category: 'general' },\n    { name: 'maid outfit', category: 'general' },\n    { name: 'kimono', category: 'general' },\n    { name: 'yukata', category: 'general' },\n    { name: 'armor', category: 'general' },\n    { name: 'military uniform', category: 'general' },\n    { name: 'suit', category: 'general' },\n    { name: 'tuxedo', category: 'general' },\n    { name: 'pajamas', category: 'general' },\n    { name: 'swimsuit', category: 'general' },\n    { name: 'bikini', category: 'general' },\n    { name: 'one-piece swimsuit', category: 'general' },\n\n    // Accessories\n    { name: 'glasses', category: 'general' },\n    { name: 'sunglasses', category: 'general' },\n    { name: 'hat', category: 'general' },\n    { name: 'cap', category: 'general' },\n    { name: 'bow', category: 'general' },\n    { name: 'hair bow', category: 'general' },\n    { name: 'ribbon', category: 'general' },\n    { name: 'hair ribbon', category: 'general' },\n    { name: 'headband', category: 'general' },\n    { name: 'crown', category: 'general' },\n    { name: 'tiara', category: 'general' },\n    { name: 'earrings', category: 'general' },\n    { name: 'necklace', category: 'general' },\n    { name: 'bracelet', category: 'general' },\n    { name: 'gloves', category: 'general' },\n    { name: 'scarf', category: 'general' },\n    { name: 'necktie', category: 'general' },\n    { name: 'bowtie', category: 'general' },\n\n    // Backgrounds & Settings\n    { name: 'outdoors', category: 'general' },\n    { name: 'indoors', category: 'general' },\n    { name: 'city', category: 'general' },\n    { name: 'street', category: 'general' },\n    { name: 'alley', category: 'general' },\n    { name: 'park', category: 'general' },\n    { name: 'forest', category: 'general' },\n    { name: 'mountain', category: 'general' },\n    { name: 'beach', category: 'general' },\n    { name: 'ocean', category: 'general' },\n    { name: 'lake', category: 'general' },\n    { name: 'river', category: 'general' },\n    { name: 'desert', category: 'general' },\n    { name: 'snow', category: 'general' },\n    { name: 'rain', category: 'general' },\n    { name: 'sky', category: 'general' },\n    { name: 'clouds', category: 'general' },\n    { name: 'night', category: 'general' },\n    { name: 'day', category: 'general' },\n    { name: 'sunset', category: 'general' },\n    { name: 'sunrise', category: 'general' },\n    { name: 'twilight', category: 'general' },\n    { name: 'starry sky', category: 'general' },\n    { name: 'moon', category: 'general' },\n    { name: 'stars', category: 'general' },\n    { name: 'cherry blossoms', category: 'general' },\n    { name: 'autumn leaves', category: 'general' },\n    { name: 'flower field', category: 'general' },\n    { name: 'garden', category: 'general' },\n    { name: 'classroom', category: 'general' },\n    { name: 'bedroom', category: 'general' },\n    { name: 'kitchen', category: 'general' },\n    { name: 'library', category: 'general' },\n    { name: 'cafe', category: 'general' },\n    { name: 'restaurant', category: 'general' },\n    { name: 'office', category: 'general' },\n    { name: 'castle', category: 'general' },\n    { name: 'church', category: 'general' },\n    { name: 'temple', category: 'general' },\n    { name: 'shrine', category: 'general' },\n\n    // Poses & Actions\n    { name: 'standing', category: 'general' },\n    { name: 'sitting', category: 'general' },\n    { name: 'lying', category: 'general' },\n    { name: 'kneeling', category: 'general' },\n    { name: 'crouching', category: 'general' },\n    { name: 'walking', category: 'general' },\n    { name: 'running', category: 'general' },\n    { name: 'jumping', category: 'general' },\n    { name: 'flying', category: 'general' },\n    { name: 'fighting', category: 'general' },\n    { name: 'dancing', category: 'general' },\n    { name: 'singing', category: 'general' },\n    { name: 'reading', category: 'general' },\n    { name: 'eating', category: 'general' },\n    { name: 'drinking', category: 'general' },\n    { name: 'sleeping', category: 'general' },\n    { name: 'waving', category: 'general' },\n    { name: 'pointing', category: 'general' },\n    { name: 'reaching', category: 'general' },\n    { name: 'hugging', category: 'general' },\n    { name: 'holding hands', category: 'general' },\n\n    // Hand Positions\n    { name: 'arms up', category: 'general' },\n    { name: 'arms behind back', category: 'general' },\n    { name: 'arms crossed', category: 'general' },\n    { name: 'hand on hip', category: 'general' },\n    { name: 'hand on own face', category: 'general' },\n    { name: 'hand on own cheek', category: 'general' },\n    { name: 'hand in pocket', category: 'general' },\n    { name: 'peace sign', category: 'general' },\n    { name: 'thumbs up', category: 'general' },\n    { name: 'waving', category: 'general' },\n\n    // Art Styles\n    { name: 'anime', category: 'meta' },\n    { name: 'manga', category: 'meta' },\n    { name: 'chibi', category: 'meta' },\n    { name: 'realistic', category: 'meta' },\n    { name: 'photorealistic', category: 'meta' },\n    { name: 'semi-realistic', category: 'meta' },\n    { name: 'sketch', category: 'meta' },\n    { name: 'lineart', category: 'meta' },\n    { name: 'painting', category: 'meta' },\n    { name: 'oil painting', category: 'meta' },\n    { name: 'watercolor', category: 'meta' },\n    { name: 'digital art', category: 'meta' },\n    { name: 'pixel art', category: 'meta' },\n    { name: 'cel shading', category: 'meta' },\n    { name: 'retro style', category: 'meta' },\n    { name: 'vintage', category: 'meta' },\n    { name: 'fantasy', category: 'meta' },\n    { name: 'sci-fi', category: 'meta' },\n    { name: 'cyberpunk', category: 'meta' },\n    { name: 'steampunk', category: 'meta' },\n\n    // Composition\n    { name: 'portrait', category: 'general' },\n    { name: 'upper body', category: 'general' },\n    { name: 'cowboy shot', category: 'general' },\n    { name: 'full body', category: 'general' },\n    { name: 'close-up', category: 'general' },\n    { name: 'face focus', category: 'general' },\n    { name: 'from above', category: 'general' },\n    { name: 'from below', category: 'general' },\n    { name: 'from side', category: 'general' },\n    { name: 'from behind', category: 'general' },\n    { name: 'profile', category: 'general' },\n    { name: 'three-quarter view', category: 'general' },\n    { name: 'dynamic angle', category: 'general' },\n    { name: 'dutch angle', category: 'general' },\n\n    // Lighting\n    { name: 'dramatic lighting', category: 'general' },\n    { name: 'soft lighting', category: 'general' },\n    { name: 'hard lighting', category: 'general' },\n    { name: 'backlighting', category: 'general' },\n    { name: 'rim lighting', category: 'general' },\n    { name: 'sunlight', category: 'general' },\n    { name: 'moonlight', category: 'general' },\n    { name: 'candlelight', category: 'general' },\n    { name: 'god rays', category: 'general' },\n    { name: 'lens flare', category: 'general' },\n    { name: 'volumetric lighting', category: 'general' },\n    { name: 'neon lights', category: 'general' },\n    { name: 'glowing', category: 'general' },\n\n    // Effects & Atmosphere\n    { name: 'depth of field', category: 'meta' },\n    { name: 'bokeh', category: 'meta' },\n    { name: 'bloom', category: 'meta' },\n    { name: 'chromatic aberration', category: 'meta' },\n    { name: 'motion blur', category: 'meta' },\n    { name: 'film grain', category: 'meta' },\n    { name: 'particles', category: 'general' },\n    { name: 'sparkle', category: 'general' },\n    { name: 'light particles', category: 'general' },\n    { name: 'petals', category: 'general' },\n    { name: 'falling petals', category: 'general' },\n    { name: 'bubbles', category: 'general' },\n    { name: 'floating', category: 'general' },\n    { name: 'wind', category: 'general' },\n    { name: 'wind lift', category: 'general' },\n\n    // Fantasy & Magical Elements\n    { name: 'wings', category: 'general' },\n    { name: 'angel wings', category: 'general' },\n    { name: 'demon wings', category: 'general' },\n    { name: 'dragon wings', category: 'general' },\n    { name: 'horns', category: 'general' },\n    { name: 'tail', category: 'general' },\n    { name: 'animal ears', category: 'general' },\n    { name: 'cat ears', category: 'general' },\n    { name: 'fox ears', category: 'general' },\n    { name: 'wolf ears', category: 'general' },\n    { name: 'bunny ears', category: 'general' },\n    { name: 'elf ears', category: 'general' },\n    { name: 'pointy ears', category: 'general' },\n    { name: 'halo', category: 'general' },\n    { name: 'magic', category: 'general' },\n    { name: 'magic circle', category: 'general' },\n    { name: 'spell', category: 'general' },\n    { name: 'staff', category: 'general' },\n    { name: 'wand', category: 'general' },\n    { name: 'sword', category: 'general' },\n    { name: 'katana', category: 'general' },\n    { name: 'weapon', category: 'general' },\n\n    // Additional Details\n    { name: 'detailed background', category: 'meta' },\n    { name: 'simple background', category: 'meta' },\n    { name: 'white background', category: 'meta' },\n    { name: 'black background', category: 'meta' },\n    { name: 'gradient background', category: 'meta' },\n    { name: 'transparent background', category: 'meta' },\n    { name: 'cinematic', category: 'meta' },\n    { name: 'epic', category: 'meta' },\n    { name: 'beautiful', category: 'meta' },\n    { name: 'cute', category: 'meta' },\n    { name: 'elegant', category: 'meta' },\n    { name: 'dynamic pose', category: 'general' },\n    { name: 'detailed eyes', category: 'meta' },\n    { name: 'detailed face', category: 'meta' },\n\n    // Body Features & Proportions\n    { name: 'tall', category: 'general' },\n    { name: 'short', category: 'general' },\n    { name: 'slender', category: 'general' },\n    { name: 'muscular', category: 'general' },\n    { name: 'slim', category: 'general' },\n    { name: 'petite', category: 'general' },\n    { name: 'curvy', category: 'general' },\n\n    // Facial Features\n    { name: 'freckles', category: 'general' },\n    { name: 'mole', category: 'general' },\n    { name: 'beauty mark', category: 'general' },\n    { name: 'scar', category: 'general' },\n    { name: 'facial mark', category: 'general' },\n    { name: 'makeup', category: 'general' },\n    { name: 'lipstick', category: 'general' },\n    { name: 'eyeliner', category: 'general' },\n    { name: 'eyeshadow', category: 'general' },\n\n    // More Expressions\n    { name: 'wink', category: 'general' },\n    { name: 'tongue out', category: 'general' },\n    { name: 'pout', category: 'general' },\n    { name: 'serious', category: 'general' },\n    { name: 'determined', category: 'general' },\n    { name: 'surprised', category: 'general' },\n    { name: 'shocked', category: 'general' },\n    { name: 'scared', category: 'general' },\n    { name: 'nervous', category: 'general' },\n    { name: 'sleepy', category: 'general' },\n    { name: 'tired', category: 'general' },\n    { name: 'expressionless', category: 'general' },\n\n    // More Hair Styles\n    { name: 'pigtails', category: 'general' },\n    { name: 'drill hair', category: 'general' },\n    { name: 'spiky hair', category: 'general' },\n    { name: 'hair over one eye', category: 'general' },\n    { name: 'hair between eyes', category: 'general' },\n    { name: 'hair behind ear', category: 'general' },\n    { name: 'hair ornament', category: 'general' },\n    { name: 'hairclip', category: 'general' },\n    { name: 'hair flower', category: 'general' },\n    { name: 'side braid', category: 'general' },\n    { name: 'wet hair', category: 'general' },\n    { name: 'floating hair', category: 'general' },\n\n    // Footwear\n    { name: 'shoes', category: 'general' },\n    { name: 'boots', category: 'general' },\n    { name: 'high heels', category: 'general' },\n    { name: 'sneakers', category: 'general' },\n    { name: 'sandals', category: 'general' },\n    { name: 'slippers', category: 'general' },\n    { name: 'barefoot', category: 'general' },\n\n    // Legwear\n    { name: 'thighhighs', category: 'general' },\n    { name: 'stockings', category: 'general' },\n    { name: 'pantyhose', category: 'general' },\n    { name: 'knee socks', category: 'general' },\n    { name: 'socks', category: 'general' },\n    { name: 'fishnet', category: 'general' },\n\n    // Weather & Time\n    { name: 'cloudy', category: 'general' },\n    { name: 'foggy', category: 'general' },\n    { name: 'storm', category: 'general' },\n    { name: 'lightning', category: 'general' },\n    { name: 'rainbow', category: 'general' },\n    { name: 'dawn', category: 'general' },\n    { name: 'dusk', category: 'general' },\n    { name: 'midnight', category: 'general' },\n    { name: 'golden hour', category: 'general' },\n    { name: 'blue hour', category: 'general' },\n\n    // Nature Elements\n    { name: 'tree', category: 'general' },\n    { name: 'grass', category: 'general' },\n    { name: 'flowers', category: 'general' },\n    { name: 'rose', category: 'general' },\n    { name: 'lily', category: 'general' },\n    { name: 'sunflower', category: 'general' },\n    { name: 'leaves', category: 'general' },\n    { name: 'vines', category: 'general' },\n    { name: 'water', category: 'general' },\n    { name: 'waterfall', category: 'general' },\n    { name: 'ripples', category: 'general' },\n    { name: 'waves', category: 'general' },\n    { name: 'fire', category: 'general' },\n    { name: 'flames', category: 'general' },\n    { name: 'smoke', category: 'general' },\n    { name: 'mist', category: 'general' },\n    { name: 'fog', category: 'general' },\n\n    // Animals & Creatures\n    { name: 'cat', category: 'general' },\n    { name: 'dog', category: 'general' },\n    { name: 'bird', category: 'general' },\n    { name: 'butterfly', category: 'general' },\n    { name: 'dragon', category: 'general' },\n    { name: 'phoenix', category: 'general' },\n    { name: 'wolf', category: 'general' },\n    { name: 'fox', category: 'general' },\n    { name: 'deer', category: 'general' },\n    { name: 'rabbit', category: 'general' },\n    { name: 'fish', category: 'general' },\n    { name: 'snake', category: 'general' },\n\n    // Objects & Items\n    { name: 'book', category: 'general' },\n    { name: 'cup', category: 'general' },\n    { name: 'teacup', category: 'general' },\n    { name: 'umbrella', category: 'general' },\n    { name: 'parasol', category: 'general' },\n    { name: 'fan', category: 'general' },\n    { name: 'phone', category: 'general' },\n    { name: 'bag', category: 'general' },\n    { name: 'backpack', category: 'general' },\n    { name: 'flower basket', category: 'general' },\n    { name: 'lantern', category: 'general' },\n    { name: 'candle', category: 'general' },\n    { name: 'lamp', category: 'general' },\n    { name: 'mirror', category: 'general' },\n    { name: 'window', category: 'general' },\n    { name: 'door', category: 'general' },\n    { name: 'chair', category: 'general' },\n    { name: 'table', category: 'general' },\n    { name: 'bed', category: 'general' },\n    { name: 'bench', category: 'general' },\n\n    // Weapons & Combat\n    { name: 'bow (weapon)', category: 'general' },\n    { name: 'arrow', category: 'general' },\n    { name: 'spear', category: 'general' },\n    { name: 'axe', category: 'general' },\n    { name: 'dagger', category: 'general' },\n    { name: 'shield', category: 'general' },\n    { name: 'gun', category: 'general' },\n    { name: 'rifle', category: 'general' },\n    { name: 'pistol', category: 'general' },\n    { name: 'scythe', category: 'general' },\n    { name: 'holding weapon', category: 'general' },\n    { name: 'dual wielding', category: 'general' },\n    { name: 'sheathed', category: 'general' },\n    { name: 'unsheathing', category: 'general' },\n\n    // Food & Drink\n    { name: 'food', category: 'general' },\n    { name: 'tea', category: 'general' },\n    { name: 'coffee', category: 'general' },\n    { name: 'cake', category: 'general' },\n    { name: 'bread', category: 'general' },\n    { name: 'fruit', category: 'general' },\n    { name: 'apple', category: 'general' },\n    { name: 'strawberry', category: 'general' },\n    { name: 'ice cream', category: 'general' },\n    { name: 'candy', category: 'general' },\n    { name: 'chocolate', category: 'general' },\n\n    // Music & Instruments\n    { name: 'music', category: 'general' },\n    { name: 'musical note', category: 'general' },\n    { name: 'piano', category: 'general' },\n    { name: 'guitar', category: 'general' },\n    { name: 'violin', category: 'general' },\n    { name: 'flute', category: 'general' },\n    { name: 'microphone', category: 'general' },\n    { name: 'headphones', category: 'general' },\n\n    // Celestial & Space\n    { name: 'planet', category: 'general' },\n    { name: 'galaxy', category: 'general' },\n    { name: 'constellation', category: 'general' },\n    { name: 'comet', category: 'general' },\n    { name: 'meteor', category: 'general' },\n    { name: 'shooting star', category: 'general' },\n    { name: 'nebula', category: 'general' },\n    { name: 'space', category: 'general' },\n\n    // Architecture\n    { name: 'building', category: 'general' },\n    { name: 'tower', category: 'general' },\n    { name: 'bridge', category: 'general' },\n    { name: 'stairs', category: 'general' },\n    { name: 'balcony', category: 'general' },\n    { name: 'rooftop', category: 'general' },\n    { name: 'ruins', category: 'general' },\n    { name: 'pillar', category: 'general' },\n    { name: 'arch', category: 'general' },\n    { name: 'gate', category: 'general' },\n    { name: 'fence', category: 'general' },\n    { name: 'wall', category: 'general' },\n\n    // Vehicles\n    { name: 'car', category: 'general' },\n    { name: 'motorcycle', category: 'general' },\n    { name: 'bicycle', category: 'general' },\n    { name: 'train', category: 'general' },\n    { name: 'airplane', category: 'general' },\n    { name: 'helicopter', category: 'general' },\n    { name: 'ship', category: 'general' },\n    { name: 'boat', category: 'general' },\n\n    // Character Types & Roles\n    { name: 'maid', category: 'general' },\n    { name: 'nurse', category: 'general' },\n    { name: 'teacher', category: 'general' },\n    { name: 'student', category: 'general' },\n    { name: 'warrior', category: 'general' },\n    { name: 'knight', category: 'general' },\n    { name: 'samurai', category: 'general' },\n    { name: 'ninja', category: 'general' },\n    { name: 'mage', category: 'general' },\n    { name: 'wizard', category: 'general' },\n    { name: 'witch', category: 'general' },\n    { name: 'priest', category: 'general' },\n    { name: 'archer', category: 'general' },\n    { name: 'assassin', category: 'general' },\n    { name: 'pirate', category: 'general' },\n    { name: 'idol', category: 'general' },\n    { name: 'angel', category: 'general' },\n    { name: 'demon', category: 'general' },\n    { name: 'vampire', category: 'general' },\n    { name: 'ghost', category: 'general' },\n    { name: 'robot', category: 'general' },\n    { name: 'android', category: 'general' },\n    { name: 'cyborg', category: 'general' },\n    { name: 'elf', category: 'general' },\n    { name: 'fairy', category: 'general' },\n    { name: 'mermaid', category: 'general' },\n    { name: 'kemonomimi', category: 'general' },\n    { name: 'furry', category: 'general' },\n\n    // Additional Poses\n    { name: 'leaning', category: 'general' },\n    { name: 'leaning forward', category: 'general' },\n    { name: 'leaning back', category: 'general' },\n    { name: 'stretching', category: 'general' },\n    { name: 'yawning', category: 'general' },\n    { name: 'praying', category: 'general' },\n    { name: 'bowing', category: 'general' },\n    { name: 'curtsy', category: 'general' },\n    { name: 'salute', category: 'general' },\n    { name: 'crossed legs', category: 'general' },\n    { name: 'legs up', category: 'general' },\n    { name: 'indian style', category: 'general' },\n\n    // Seasonal & Holiday\n    { name: 'spring', category: 'general' },\n    { name: 'summer', category: 'general' },\n    { name: 'autumn', category: 'general' },\n    { name: 'fall', category: 'general' },\n    { name: 'winter', category: 'general' },\n    { name: 'christmas', category: 'general' },\n    { name: 'halloween', category: 'general' },\n    { name: 'new year', category: 'general' },\n    { name: 'valentine', category: 'general' },\n\n    // Patterns & Textures\n    { name: 'striped', category: 'general' },\n    { name: 'plaid', category: 'general' },\n    { name: 'polka dot', category: 'general' },\n    { name: 'checkered', category: 'general' },\n    { name: 'floral print', category: 'general' },\n    { name: 'lace', category: 'general' },\n    { name: 'frills', category: 'general' },\n\n    // Additional Art Styles & Quality\n    { name: '3d', category: 'meta' },\n    { name: '2d', category: 'meta' },\n    { name: 'traditional media', category: 'meta' },\n    { name: 'concept art', category: 'meta' },\n    { name: 'illustration', category: 'meta' },\n    { name: 'comic', category: 'meta' },\n    { name: 'monochrome', category: 'meta' },\n    { name: 'grayscale', category: 'meta' },\n    { name: 'sepia', category: 'meta' },\n    { name: 'lineless', category: 'meta' },\n    { name: 'sharp focus', category: 'meta' },\n    { name: 'highly detailed', category: 'meta' },\n    { name: 'intricate', category: 'meta' },\n    { name: 'professional', category: 'meta' },\n    { name: 'award winning', category: 'meta' },\n    { name: 'trending on artstation', category: 'meta' },\n\n    // Colors & Tones\n    { name: 'colorful', category: 'general' },\n    { name: 'vibrant', category: 'general' },\n    { name: 'pastel colors', category: 'general' },\n    { name: 'warm colors', category: 'general' },\n    { name: 'cool colors', category: 'general' },\n    { name: 'neon colors', category: 'general' },\n    { name: 'dark', category: 'general' },\n    { name: 'bright', category: 'general' },\n\n    // Special Effects\n    { name: 'reflection', category: 'general' },\n    { name: 'refraction', category: 'general' },\n    { name: 'mirror', category: 'general' },\n    { name: 'silhouette', category: 'general' },\n    { name: 'shadow', category: 'general' },\n    { name: 'contrast', category: 'general' },\n    { name: 'vignette', category: 'meta' },\n    { name: 'symmetry', category: 'general' },\n    { name: 'asymmetry', category: 'general' }\n];\n\nfunction showTagAutocomplete(query: string, textarea: HTMLTextAreaElement) {\n    const autocomplete = document.getElementById('tagAutocomplete')!;\n\n    if (!query || query.length < 2) {\n        autocomplete.style.display = 'none';\n        return;\n    }\n\n    // Combine default and custom tags\n    const allTags = [...danbooruTags, ...customDanbooruTags];\n\n    // Filter tags that start with or contain the query\n    const lowerQuery = query.toLowerCase();\n    autocompleteItems = allTags.filter(tag =>\n        tag.name.toLowerCase().includes(lowerQuery)\n    ).slice(0, 10); // Limit to 10 suggestions\n\n    if (autocompleteItems.length === 0) {\n        autocomplete.style.display = 'none';\n        return;\n    }\n\n    autocomplete.innerHTML = autocompleteItems.map((tag, index) => `\n        <div class=\"tag-autocomplete-item ${index === autocompleteSelectedIndex ? 'selected' : ''}\" data-index=\"${index}\">\n            <span class=\"tag-name\">${tag.name}</span>\n            <span class=\"tag-category ${tag.category}\">${tag.category}</span>\n        </div>\n    `).join('');\n\n    autocomplete.style.display = 'block';\n\n    // Add click listeners\n    autocomplete.querySelectorAll('.tag-autocomplete-item').forEach(item => {\n        item.addEventListener('click', () => {\n            const index = parseInt(item.getAttribute('data-index') || '0');\n            insertTag(autocompleteItems[index].name, textarea);\n        });\n    });\n}\n\nfunction insertTag(tagName: string, textarea: HTMLTextAreaElement) {\n    const cursorPos = textarea.selectionStart;\n    const textBefore = textarea.value.substring(0, cursorPos);\n    const textAfter = textarea.value.substring(cursorPos);\n\n    // Find the start of the current word\n    const lastComma = textBefore.lastIndexOf(',');\n    const wordStart = lastComma >= 0 ? lastComma + 1 : 0;\n\n    // Replace the current word with the tag\n    const beforeWord = textarea.value.substring(0, wordStart);\n    const newText = beforeWord + (beforeWord.trim() && !beforeWord.endsWith(',') ? ', ' : '') + tagName + ', ' + textAfter;\n\n    textarea.value = newText;\n    const newCursorPos = (beforeWord + (beforeWord.trim() && !beforeWord.endsWith(',') ? ', ' : '') + tagName + ', ').length;\n    textarea.setSelectionRange(newCursorPos, newCursorPos);\n    textarea.focus();\n\n    // Hide autocomplete\n    document.getElementById('tagAutocomplete')!.style.display = 'none';\n    autocompleteSelectedIndex = -1;\n}\n\nfunction getCurrentWord(text: string, cursorPos: number): string {\n    const textBefore = text.substring(0, cursorPos);\n    const lastComma = textBefore.lastIndexOf(',');\n    const word = textBefore.substring(lastComma + 1).trim();\n    return word;\n}\n\nfunction handleAutocompleteKeydown(e: KeyboardEvent, textarea: HTMLTextAreaElement) {\n    const autocomplete = document.getElementById('tagAutocomplete')!;\n\n    if (autocomplete.style.display === 'none') {\n        return;\n    }\n\n    if (e.key === 'ArrowDown') {\n        e.preventDefault();\n        autocompleteSelectedIndex = Math.min(autocompleteSelectedIndex + 1, autocompleteItems.length - 1);\n        updateAutocompleteSelection();\n    } else if (e.key === 'ArrowUp') {\n        e.preventDefault();\n        autocompleteSelectedIndex = Math.max(autocompleteSelectedIndex - 1, -1);\n        updateAutocompleteSelection();\n    } else if (e.key === 'Enter' || e.key === 'Tab') {\n        if (autocompleteSelectedIndex >= 0) {\n            e.preventDefault();\n            insertTag(autocompleteItems[autocompleteSelectedIndex].name, textarea);\n        }\n    } else if (e.key === 'Escape') {\n        autocomplete.style.display = 'none';\n        autocompleteSelectedIndex = -1;\n    }\n}\n\nfunction updateAutocompleteSelection() {\n    const items = document.querySelectorAll('.tag-autocomplete-item');\n    items.forEach((item, index) => {\n        if (index === autocompleteSelectedIndex) {\n            item.classList.add('selected');\n            item.scrollIntoView({ block: 'nearest' });\n        } else {\n            item.classList.remove('selected');\n        }\n    });\n}\n\n// Danbooru Tag Management Functions\nfunction renderDanbooruTags() {\n    const tagsList = document.getElementById('danbooruTagsList')!;\n\n    if (customDanbooruTags.length === 0) {\n        tagsList.innerHTML = '';\n        return;\n    }\n\n    // Sort custom tags alphabetically by name (A-Z)\n    const sortedTags = [...customDanbooruTags].sort((a, b) =>\n        a.name.toLowerCase().localeCompare(b.name.toLowerCase())\n    );\n\n    tagsList.innerHTML = sortedTags.map((tag) => {\n        // Find original index for deletion\n        const originalIndex = customDanbooruTags.findIndex(t => t.name === tag.name && t.category === tag.category);\n        return `\n        <div class=\"danbooru-tag-item\">\n            <div class=\"danbooru-tag-info\">\n                <span class=\"danbooru-tag-name\">${tag.name}</span>\n                <span class=\"danbooru-tag-category-badge ${tag.category}\">${tag.category}</span>\n            </div>\n            <button class=\"btn-delete-danbooru-tag\" data-index=\"${originalIndex}\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n                </svg>\n            </button>\n        </div>\n    `}).join('');\n\n    // Add delete listeners\n    tagsList.querySelectorAll('.btn-delete-danbooru-tag').forEach(btn => {\n        btn.addEventListener('click', () => {\n            const index = parseInt(btn.getAttribute('data-index') || '0');\n            deleteDanbooruTag(index);\n        });\n    });\n}\n\nfunction addDanbooruTag() {\n    const input = document.getElementById('newDanbooruTagInput') as HTMLInputElement;\n    const select = document.getElementById('danbooruCategorySelect') as HTMLSelectElement;\n    const tagName = input.value.trim().toLowerCase();\n    const category = select.value as DanbooruTag['category'];\n\n    if (!tagName) return;\n\n    // Check if tag already exists\n    const exists = customDanbooruTags.some(tag => tag.name === tagName) ||\n                   danbooruTags.some(tag => tag.name === tagName);\n\n    if (exists) {\n        alert('This tag already exists!');\n        return;\n    }\n\n    customDanbooruTags.push({ name: tagName, category });\n    input.value = '';\n    renderDanbooruTags();\n    saveToStorage();\n}\n\nfunction deleteDanbooruTag(index: number) {\n    customDanbooruTags.splice(index, 1);\n    renderDanbooruTags();\n    saveToStorage();\n}\n\nfunction bulkImportDanbooruTags() {\n    const textarea = document.getElementById('bulkDanbooruInput') as HTMLTextAreaElement;\n    const input = textarea.value.trim();\n\n    if (!input) return;\n\n    // Split by commas and clean up\n    const tagNames = input.split(',')\n        .map(tag => tag.trim().toLowerCase())\n        .filter(tag => tag.length > 0);\n\n    if (tagNames.length === 0) return;\n\n    let addedCount = 0;\n    tagNames.forEach(tagName => {\n        // Check if tag already exists\n        const exists = customDanbooruTags.some(tag => tag.name === tagName) ||\n                       danbooruTags.some(tag => tag.name === tagName);\n\n        if (!exists) {\n            // Default to 'general' category for bulk imports\n            customDanbooruTags.push({ name: tagName, category: 'general' });\n            addedCount++;\n        }\n    });\n\n    textarea.value = '';\n    renderDanbooruTags();\n    saveToStorage();\n\n    if (addedCount > 0) {\n        alert(`Added ${addedCount} new tag(s)!`);\n    } else {\n        alert('All tags already exist.');\n    }\n}\n\n// Keyboard shortcuts\nfunction setupKeyboardShortcuts() {\n    document.addEventListener('keydown', (e: KeyboardEvent) => {\n        // Ctrl/Cmd + N: New Channel\n        if ((e.ctrlKey || e.metaKey) && e.key === 'n') {\n            e.preventDefault();\n            openChannelModal();\n        }\n\n        // Escape: Close modals\n        if (e.key === 'Escape') {\n            const activeModals = document.querySelectorAll('.modal.active');\n            activeModals.forEach(modal => {\n                if (modal.id === 'channelModal') closeChannelModal();\n                if (modal.id === 'tagsModal') closeTagsModal();\n                if (modal.id === 'imageModal') closeImageModal();\n                if (modal.id === 'settingsModal') closeSettingsModal();\n                if (modal.id === 'comparisonModal') closeComparisonModal();\n                if (modal.id === 'confirmModal') closeConfirmModal(false);\n            });\n        }\n\n        // Ctrl/Cmd + S: Export data\n        if ((e.ctrlKey || e.metaKey) && e.key === 's') {\n            e.preventDefault();\n            exportData();\n        }\n\n        // Ctrl/Cmd + F: Focus search\n        if ((e.ctrlKey || e.metaKey) && e.key === 'f') {\n            e.preventDefault();\n            const searchInput = document.getElementById('searchInput') as HTMLInputElement;\n            searchInput?.focus();\n        }\n\n        // Ctrl/Cmd + Z: Undo\n        if ((e.ctrlKey || e.metaKey) && e.key === 'z' && !e.shiftKey) {\n            e.preventDefault();\n            undo();\n        }\n\n        // Arrow navigation in image modal\n        const imageModal = document.getElementById('imageModal');\n        if (imageModal?.classList.contains('active')) {\n            if (e.key === 'ArrowLeft') {\n                e.preventDefault();\n                navigateImage('prev');\n            }\n            if (e.key === 'ArrowRight') {\n                e.preventDefault();\n                navigateImage('next');\n            }\n        }\n    });\n}\n\n// Initialize app when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n} else {\n    init();\n}\n\n// Setup keyboard shortcuts after DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', setupKeyboardShortcuts);\n} else {\n    setupKeyboardShortcuts();\n}\n"],
  "mappings": "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",
  "names": ["t"]
}
